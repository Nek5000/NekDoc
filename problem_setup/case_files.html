<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Case Files &mdash; Nek5000  documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="User Routines File (.usr)" href="usr_file.html" />
    <link rel="prev" title="Boundary Conditions" href="BCs.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Nek5000
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../problem_setup.html">Problem Setup</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="BCs.html">Boundary Conditions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Case Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#session-name">SESSION.NAME</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameter-file-par">Parameter File (.par)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general-parameters">General Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#problem-type-parameters">Problem Type Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#common-parameters">Common Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mesh-parameters">Mesh Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#velocity-parameters">Velocity Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pressure-parameters">Pressure Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#temperature-and-passive-scalar-common-parameters">Temperature and Passive Scalar Common Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#temperature-parameters">Temperature Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#passive-scalar-parameters">Passive Scalar Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cvode-parameters">CVODE Parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mesh-file-re2">Mesh File (.re2)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#header">Header</a></li>
<li class="toctree-l4"><a class="reference internal" href="#element-data">Element data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#curved-sides">Curved Sides</a></li>
<li class="toctree-l4"><a class="reference internal" href="#boundaries">Boundaries</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#size">SIZE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mesh-partitioning-file-map-ma2">Mesh Partitioning File (.map/.ma2)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#restart-output-files-f">Restart/Output files (.f#####)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="usr_file.html">User Routines File (.usr)</a></li>
<li class="toctree-l2"><a class="reference internal" href="filter.html">Stabilizing Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html">Additional Features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tools.html">Nek Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory.html">Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build.html">Build Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix.html">Appendices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Nek5000</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../problem_setup.html">Problem Setup</a> &raquo;</li>
      <li>Case Files</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/problem_setup/case_files.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="case-files">
<span id="id1"></span><h1>Case Files<a class="headerlink" href="#case-files" title="Permalink to this headline">¶</a></h1>
<p>Each simulation is defined by six <em>required</em> case files:</p>
<ul class="simple">
<li>SESSION.NAME</li>
<li>par       (runtime parameters)</li>
<li>re2       (mesh and boundaries)</li>
<li>usr       (user defined functions for inital/boundary condition etc.)</li>
<li>SIZE      (parameters for static memory allocation)</li>
<li>map/ma2   (element processes mapping)</li>
</ul>
<p>Additional <em>optional</em> case files may be generated or included:</p>
<ul class="simple">
<li>f%05d     (solution data)</li>
<li>his       (probing point data)</li>
</ul>
<div class="section" id="session-name">
<h2>SESSION.NAME<a class="headerlink" href="#session-name" title="Permalink to this headline">¶</a></h2>
<p>To run <em>Nek5000</em>, each simulation must have a <code class="docutils literal notranslate"><span class="pre">SESSION.NAME</span></code> file.
This file is read in by the code and gives the path to the relevant files describing the structure and parameters of the simulation.
It contains the name of the simulation and the full path to supporting files.
For example, to run the eddy example from the repository, the <code class="docutils literal notranslate"><span class="pre">SESSION.NAME</span></code> file would look like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>eddy_uv
/home/user_name/Nek5000/short_tests/eddy/
</pre></div>
</div>
<p>This file is generated automatically by the <code class="docutils literal notranslate"><span class="pre">nek</span></code>, <code class="docutils literal notranslate"><span class="pre">nekb</span></code>, <code class="docutils literal notranslate"><span class="pre">nekmpi</span></code>, <code class="docutils literal notranslate"><span class="pre">nekbmpi</span></code>, <code class="docutils literal notranslate"><span class="pre">neknek</span></code> and <code class="docutils literal notranslate"><span class="pre">neknekb</span></code> scripts at runtime.
If you are calling <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">mpirun</span></code> directly, such as in a submission script for an HPC system, you must manually generate this file or setup your script to generate it for you.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">When using <a class="reference internal" href="../tutorials/neknek.html#neknek"><span class="std std-ref">NekNek</span></a>, <code class="docutils literal notranslate"><span class="pre">SESSION.NAME</span></code> is substantially different.
We recommend running the example and checking the <code class="docutils literal notranslate"><span class="pre">neknek</span></code> script for further information.</p>
</div>
</div>
<div class="section" id="parameter-file-par">
<span id="case-files-par"></span><h2>Parameter File (.par)<a class="headerlink" href="#parameter-file-par" title="Permalink to this headline">¶</a></h2>
<p>The simulation paramaters are defined in the <code class="docutils literal notranslate"><span class="pre">.par</span></code> file.
The keys are grouped in different sections and a specific value is assigned to each key.
The <code class="docutils literal notranslate"><span class="pre">.par</span></code> file follows the structure exemplified below.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#
# nek parameter file
#

[SECTION]
key = value
...

[SECTION]
key = value
...
</pre></div>
</div>
<p>The sections are:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">GENERAL</span></code> (<strong>mandatory</strong>, see: <a class="reference internal" href="#sec-generalpars"><span class="std std-ref">General Parameters</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">PROBLEMTYPE</span></code> (see: <a class="reference internal" href="#sec-problemtypepars"><span class="std std-ref">Problem Type Parameters</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">MESH</span></code> (see: <a class="reference internal" href="#sec-meshpars"><span class="std std-ref">Mesh Parameters</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">VELOCITY</span></code> (see: <a class="reference internal" href="#sec-velpars"><span class="std std-ref">Velocity Parameters</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">PRESSURE</span></code> (<strong>required for velocity</strong> see: <a class="reference internal" href="#sec-pressurepars"><span class="std std-ref">Pressure Parameters</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">TEMPERATURE</span></code> (see: <a class="reference internal" href="#sec-temppars"><span class="std std-ref">Temperature Parameters</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">SCALAR%%</span></code> (see: <a class="reference internal" href="#sec-scalarpars"><span class="std std-ref">Passive Scalar Parameters</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">CVODE</span></code> (see: <a class="reference internal" href="#sec-cvodepars"><span class="std std-ref">CVODE Parameters</span></a>)</li>
</ul>
<p>Additionally, some parameters are common to multiple sections:</p>
<ul class="simple">
<li><a class="reference internal" href="#sec-commonpars"><span class="std std-ref">Common Parameters</span></a> (Common to all field variables)</li>
<li><a class="reference internal" href="#sec-tspars"><span class="std std-ref">Temperature and Passive Scalar Common Parameters</span></a> (Common to both temperature and passive scalar fields)</li>
</ul>
<p>When scalars are used, the keys of each scalar are defined under the section <code class="docutils literal notranslate"><span class="pre">SCALAR%%</span></code> varying between <code class="docutils literal notranslate"><span class="pre">SCALAR01</span></code> and <code class="docutils literal notranslate"><span class="pre">SCALAR99</span></code>.
The descripton of the keys of each section is given in the following tables (all keys/values are case insensitive).
The value assigned to each key can be a user input (e.g. a &lt;real&gt; value) or one of the avaliable options listed in the tables below.
Values in parentheses denote the default value.</p>
<div class="section" id="general-parameters">
<span id="sec-generalpars"></span><h3>General Parameters<a class="headerlink" href="#general-parameters" title="Permalink to this headline">¶</a></h3>
<span id="tab-generalparams"></span><table border="1" class="colwidths-given docutils" id="id2">
<caption><span class="caption-number">Table 4 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">GENERAL</span></code> keys in the <code class="docutils literal notranslate"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head">Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">startFrom</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code></td>
<td>Absolute/relative path of the field file to restart the simulation from. Also includes several restart options (see <a class="reference internal" href="features.html#features-restart"><span class="std std-ref">Restart Options</span></a> for details)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">stopAt</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">numSteps</span></code>), <code class="docutils literal notranslate"><span class="pre">endTime</span></code></td>
<td>Stops the simulation after a given number of time steps or at a given physical time.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">endTime</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></td>
<td>Final physical time at which we want to our simulation to stop. Required for <code class="docutils literal notranslate"><span class="pre">stopAt</span> <span class="pre">=</span> <span class="pre">endTime</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">numSteps</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;int&gt;</span></code></td>
<td>Number of time steps until the simulation stops. Required for <code class="docutils literal notranslate"><span class="pre">stopAt</span> <span class="pre">=</span> <span class="pre">numSteps</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">dt</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></td>
<td>Specifies the step size or in case of a variable time step, the maximum step size</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">variableDT</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">no</span></code>), <code class="docutils literal notranslate"><span class="pre">yes</span></code></td>
<td>Controls if the step size will be adjusted to match the targetCFL.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">initialDT</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></td>
<td>Controls the initial time step size. Requires <code class="docutils literal notranslate"><span class="pre">variableDT</span> <span class="pre">=</span> <span class="pre">yes</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">targetCFL</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></td>
<td>Sets stability/target CFL number for OIFS or variable time steps. This is fixed to 0.5 for <code class="docutils literal notranslate"><span class="pre">extrapolation</span> <span class="pre">=</span> <span class="pre">standard</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">writeControl</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">timeStep</span></code>), <code class="docutils literal notranslate"><span class="pre">runTime</span></code></td>
<td>Specifies whether checkpointing is based on number of time steps or physical time.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">writeInterval</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;/&lt;int&gt;</span></code></td>
<td>Checkpoint frequency in physical time (<code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code>) or number of time steps (<code class="docutils literal notranslate"><span class="pre">&lt;int&gt;</span></code>)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">filtering</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">none</span></code>), <code class="docutils literal notranslate"><span class="pre">explicit</span></code>, <code class="docutils literal notranslate"><span class="pre">hpfrt</span></code></td>
<td>Specifies the filtering method. See <a class="reference internal" href="filter.html#sec-filter"><span class="std std-ref">Stabilizing Filters</span></a> for details.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">filterModes</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;int&gt;</span></code></td>
<td>Specifies the number of modes filtered as an alternative to specifying the cutoff ratio. Note: requires the use of at least 2 modes. See <a class="reference internal" href="filter.html#sec-filter"><span class="std std-ref">Stabilizing Filters</span></a> for details.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">filterCutoffRatio</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></td>
<td>Ratio of modes not affected by the filter. Use as an alternative to specifying the number of modes explicitly. See <a class="reference internal" href="filter.html#sec-filter"><span class="std std-ref">Stabilizing Filters</span></a> for details.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">filterWeight</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></td>
<td>Sets the filter strength of transfer function of the last mode (explicit) or the relaxation parameter in case of hpfrt. See <a class="reference internal" href="filter.html#sec-filter"><span class="std std-ref">Stabilizing Filters</span></a> for more information.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">writeDoublePrecision</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">no</span></code>, (<code class="docutils literal notranslate"><span class="pre">yes</span></code>)</td>
<td>Sets the precision of the output field files.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">writeNFiles</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;int&gt;</span></code>, (<code class="docutils literal notranslate"><span class="pre">1</span></code>)</td>
<td>Sets the number of output files. By default a parallel shared file is used.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">dealiasing</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">no</span></code>, <code class="docutils literal notranslate"><span class="pre">yes</span></code></td>
<td>Enable/diasble over-integration.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">timeStepper</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">BDF1</span></code>, (<code class="docutils literal notranslate"><span class="pre">BDF2</span></code>), <code class="docutils literal notranslate"><span class="pre">BDF3</span></code></td>
<td>Time integration order.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">extrapolation</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">standard</span></code>), <code class="docutils literal notranslate"><span class="pre">OIFS</span></code></td>
<td>Extrapolation method. Can be used to achieve CFL &gt; 0.5 with <code class="docutils literal notranslate"><span class="pre">OIFS</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">constFlowRate</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">none</span></code>), <code class="docutils literal notranslate"><span class="pre">X</span></code>, <code class="docutils literal notranslate"><span class="pre">Y</span></code>, <code class="docutils literal notranslate"><span class="pre">Z</span></code></td>
<td>Prescribes a constant volumetric flow in the given direction. Requires <code class="docutils literal notranslate"><span class="pre">meanVolumetricFlow</span></code> or <code class="docutils literal notranslate"><span class="pre">meanVelocity</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">meanVolumetricFlow</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></td>
<td>Sets the volumetric flow rate in the direction of <code class="docutils literal notranslate"><span class="pre">constFlowRate</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">meanVelocity</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></td>
<td>Sets the mean velocity (volume-weighted velocity mean) in the direction of <code class="docutils literal notranslate"><span class="pre">constFlowRate</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">optLevel</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;int&gt;</span></code>, (<code class="docutils literal notranslate"><span class="pre">2</span></code>)</td>
<td>Optimization level</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">logLevel</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;int&gt;</span></code>, (<code class="docutils literal notranslate"><span class="pre">2</span></code>)</td>
<td>Controls the verbosity level of the logfile.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">userParam%%</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></td>
<td>User parameter (can be accessed through uparam(%) array in <code class="docutils literal notranslate"><span class="pre">.usr</span></code>. Supports up to 20 parameters.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="problem-type-parameters">
<span id="sec-problemtypepars"></span><h3>Problem Type Parameters<a class="headerlink" href="#problem-type-parameters" title="Permalink to this headline">¶</a></h3>
<span id="tab-probtypeparams"></span><table border="1" class="colwidths-given docutils" id="id3">
<caption><span class="caption-number">Table 5 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">PROBLEMTYPE</span></code> keys in the <code class="docutils literal notranslate"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head">Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">equation</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">incompNS</span></code>), <code class="docutils literal notranslate"><span class="pre">lowMachNS</span></code>, <code class="docutils literal notranslate"><span class="pre">steadyStokes</span></code>, <code class="docutils literal notranslate"><span class="pre">incompLinNS</span></code>, <code class="docutils literal notranslate"><span class="pre">incompLinAdjNS</span></code>, <code class="docutils literal notranslate"><span class="pre">incompMHD</span></code>, <code class="docutils literal notranslate"><span class="pre">compNS</span></code></td>
<td>Specifies equation type</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">axiSymmetry</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">no</span></code>), <code class="docutils literal notranslate"><span class="pre">yes</span></code></td>
<td>Axisymmetric problem</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">swirl</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">no</span></code>), <code class="docutils literal notranslate"><span class="pre">yes</span></code></td>
<td>Enable axisymmetric azimuthal velocity component (stored in temperature field</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">cyclicBoundaries</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">no</span></code>), <code class="docutils literal notranslate"><span class="pre">yes</span></code></td>
<td>Sets cyclic periodic boundaries</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">numberOfPerturbations</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">1</span></code>)</td>
<td>Number of perturbations for linearized NS</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">solveBaseFlow</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">no</span></code>), <code class="docutils literal notranslate"><span class="pre">yes</span></code></td>
<td>Solve for base flow in case of linearized NS</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">variableProperties</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">no</span></code>), <code class="docutils literal notranslate"><span class="pre">yes</span></code></td>
<td>Enable variable transport properties</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">stressFormulation</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">no</span></code>), <code class="docutils literal notranslate"><span class="pre">yes</span></code></td>
<td>Enable stress formulation</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">dp0dt</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">no</span></code>), <code class="docutils literal notranslate"><span class="pre">yes</span></code></td>
<td>Enable time-varying thermodynamic pressure</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="common-parameters">
<span id="sec-commonpars"></span><h3>Common Parameters<a class="headerlink" href="#common-parameters" title="Permalink to this headline">¶</a></h3>
<p>These parameters are available for field variables.</p>
<span id="tab-commonparams"></span><table border="1" class="colwidths-given docutils" id="id4">
<caption><span class="caption-number">Table 6 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">COMMON</span></code> keys for all field variables in the <code class="docutils literal notranslate"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head">Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">residualTol</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></td>
<td>Residual tolerance used by solver (not for CVODE)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">residualProj</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">no</span></code>), <code class="docutils literal notranslate"><span class="pre">yes</span></code></td>
<td>Controls the residual projection</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">writeToFieldFile</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">no</span></code>, (<code class="docutils literal notranslate"><span class="pre">yes</span></code>)</td>
<td>Controls if fields will be written on output</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">boundaryTypeMap</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;string-list&gt;</span></code></td>
<td>Maps the boundary condition types to boundary IDs for third-party meshes</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Some boundary types have plain-english equivalents that can be used in the <code class="docutils literal notranslate"><span class="pre">.par</span></code> file in lieu of the character identifiers. See <a class="reference internal" href="#tab-engvidentifiers"><span class="std std-numref">Table 7</span></a> and <a class="reference internal" href="#tab-engtidentifiers"><span class="std std-numref">Table 8</span></a>.
Additionally, <code class="docutils literal notranslate"><span class="pre">none</span></code> can be used to keep the <code class="docutils literal notranslate"><span class="pre">cbc</span></code> array empty.</p>
</div>
<div class="section" id="plain-english-bc-identifiers">
<span id="sec-engidentifiers"></span><h4>Plain-English BC Identifiers<a class="headerlink" href="#plain-english-bc-identifiers" title="Permalink to this headline">¶</a></h4>
<p>The plain-English boundary condition identifiers can be used in the <code class="docutils literal notranslate"><span class="pre">.par</span></code> file instead of the character identifier codes.
Note that some character codes have multiple corresponding plain-English identifiers.</p>
<span id="tab-engvidentifiers"></span><table border="1" class="colwidths-given docutils" id="id5">
<caption><span class="caption-number">Table 7 </span><span class="caption-text">Velocity boundary identifier plain-English equivalents</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Identifier</th>
<th class="head">Equivalents</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">A</span></code></td>
<td>axis</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">v</span></code></td>
<td>dirichlet, inlet</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">int</span></code></td>
<td>interpolated</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">O</span></code></td>
<td>outlet</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">o</span></code></td>
<td>pressure</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">P</span></code></td>
<td>periodic</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">SYM</span></code></td>
<td>symmetry</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">W</span></code></td>
<td>wall</td>
</tr>
</tbody>
</table>
<span id="tab-engtidentifiers"></span><table border="1" class="colwidths-given docutils" id="id6">
<caption><span class="caption-number">Table 8 </span><span class="caption-text">Temperature and passive scalar boundary identifier plain-English equivalents</span><a class="headerlink" href="#id6" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Identifier</th>
<th class="head">Equivalents</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">A</span></code></td>
<td>axis</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">c</span></code></td>
<td>convection, robin</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">t</span></code></td>
<td>dirichlet, inlet</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">f</span></code></td>
<td>flux, neumann</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">I</span></code></td>
<td>insulated, outlet, symmetry</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">int</span></code></td>
<td>interpolated</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">P</span></code></td>
<td>periodic</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">r</span></code></td>
<td>radiation</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="mesh-parameters">
<span id="sec-meshpars"></span><h3>Mesh Parameters<a class="headerlink" href="#mesh-parameters" title="Permalink to this headline">¶</a></h3>
<span id="tab-meshparams"></span><table border="1" class="colwidths-given docutils" id="id7">
<caption><span class="caption-number">Table 9 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">MESH</span></code> keys in the <code class="docutils literal notranslate"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id7" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head">Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">boundaryIDMap</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;int-list&gt;</span></code>, (<code class="docutils literal notranslate"><span class="pre">1,2,3...</span></code>)</td>
<td>Maps the boundary types to their corresponding boundary IDs</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">motion</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">none</span></code>), <code class="docutils literal notranslate"><span class="pre">user</span></code>, <code class="docutils literal notranslate"><span class="pre">elasticity</span></code></td>
<td>Mesh motion solver</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">viscosity</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code>, (<code class="docutils literal notranslate"><span class="pre">0.4</span></code>)</td>
<td>Diffusivity for elasticity solver</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">numberOfBCFields</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">nfields</span></code>)</td>
<td>Number of field variables which have a boundary condition in <code class="docutils literal notranslate"><span class="pre">.re2</span></code> file</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">firstBCFieldIndex</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">1</span></code>) or <code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td>Field index of the first BC specified in <code class="docutils literal notranslate"><span class="pre">.re2</span></code> file</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="velocity-parameters">
<span id="sec-velpars"></span><h3>Velocity Parameters<a class="headerlink" href="#velocity-parameters" title="Permalink to this headline">¶</a></h3>
<span id="tab-velocityparams"></span><table border="1" class="colwidths-given docutils" id="id8">
<caption><span class="caption-number">Table 10 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">VELOCITY</span></code> keys in the <code class="docutils literal notranslate"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id8" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="15%" />
<col width="10%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head">Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">viscosity</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></td>
<td>Dynamic viscosity. A negative value sets the Reynolds number</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">density</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></td>
<td>Density</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="pressure-parameters">
<span id="sec-pressurepars"></span><h3>Pressure Parameters<a class="headerlink" href="#pressure-parameters" title="Permalink to this headline">¶</a></h3>
<span id="tab-pressureparams"></span><table border="1" class="colwidths-given docutils" id="id9">
<caption><span class="caption-number">Table 11 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">PRESSURE</span></code> keys in the <code class="docutils literal notranslate"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id9" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="15%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head">Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">preconditioner</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">semg_xxt</span></code>)</td>
<td>Standard preconditioning method. Requires no additional setup. Only recommended for problems with <span class="math notranslate nohighlight">\(E&lt;350,000\)</span>.</td>
</tr>
<tr class="row-odd"><td>–</td>
<td><code class="docutils literal notranslate"><span class="pre">semg_amg</span></code></td>
<td>First time usage of <code class="docutils literal notranslate"><span class="pre">semg_amg</span></code> with write three dump files to disc. The <code class="docutils literal notranslate"><span class="pre">amg_hypre</span></code> tool will then need to be run to create the setup files required for the AMG solver initialization.</td>
</tr>
<tr class="row-even"><td>–</td>
<td><code class="docutils literal notranslate"><span class="pre">semg_amg_hypre</span></code></td>
<td>Recommended for <span class="math notranslate nohighlight">\(E≥350,000\)</span>. Requires <a class="reference internal" href="../build.html#build-pplist"><span class="std std-ref">compiling with HYPRE support</span></a>.</td>
</tr>
<tr class="row-odd"><td>–</td>
<td><code class="docutils literal notranslate"><span class="pre">fem_amg_hypre</span></code></td>
<td>May be faster for meshes with high aspect ratios. Requires <a class="reference internal" href="../build.html#build-pplist"><span class="std std-ref">compiling with HYPRE support</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">solver</span></code></td>
<td>(<code class="docutils literal notranslate"><span class="pre">GMRES</span></code>), <code class="docutils literal notranslate"><span class="pre">CGFLEX</span></code></td>
<td>Solver for pressure</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="temperature-and-passive-scalar-common-parameters">
<span id="sec-tspars"></span><h3>Temperature and Passive Scalar Common Parameters<a class="headerlink" href="#temperature-and-passive-scalar-common-parameters" title="Permalink to this headline">¶</a></h3>
<span id="tab-tpscommonparams"></span><table border="1" class="docutils" id="id10">
<caption><span class="caption-number">Table 12 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">COMMON</span></code> keys for temperature and scalar fields in the <code class="docutils literal notranslate"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id10" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="30%" />
<col width="17%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head"><div class="first last line-block">
<div class="line">Value(s)</div>
</div>
</th>
<th class="head"><div class="first last line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">solver</span></code></td>
<td><div class="first last line-block">
<div class="line">(<code class="docutils literal notranslate"><span class="pre">helm</span></code>)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">cvode</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">none</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Solver for scalar</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">advection</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">no</span></code></div>
<div class="line">(<code class="docutils literal notranslate"><span class="pre">yes</span></code>)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Controls if advection is present</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">absoluteTol</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Absolute tolerance used by CVODE</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="temperature-parameters">
<span id="sec-temppars"></span><h3>Temperature Parameters<a class="headerlink" href="#temperature-parameters" title="Permalink to this headline">¶</a></h3>
<span id="tab-temperatureparams"></span><table border="1" class="docutils" id="id11">
<caption><span class="caption-number">Table 13 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">TEMPERATURE</span></code> keys in the <code class="docutils literal notranslate"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id11" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="30%" />
<col width="16%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head"><div class="first last line-block">
<div class="line">Value(s)</div>
</div>
</th>
<th class="head"><div class="first last line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ConjugateHeatTransfer</span></code></td>
<td><div class="first last line-block">
<div class="line">(<code class="docutils literal notranslate"><span class="pre">no</span></code>)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">yes</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Controls conjugate heat transfer</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">conductivity</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Thermal conductivity</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">rhoCp</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Product of density and heat capacity</div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Note: <code class="docutils literal notranslate"><span class="pre">[TEMPERATURE]</span> <span class="pre">solver</span> <span class="pre">=</span> <span class="pre">none</span></code> is incompatible with <code class="docutils literal notranslate"><span class="pre">[PROBLEMTYPE]</span> <span class="pre">equation</span> <span class="pre">=</span> <span class="pre">lowMachNS</span></code> without defining a custom thermal divergence in the <code class="docutils literal notranslate"><span class="pre">usr</span></code> file.</p>
</div>
<div class="section" id="passive-scalar-parameters">
<span id="sec-scalarpars"></span><h3>Passive Scalar Parameters<a class="headerlink" href="#passive-scalar-parameters" title="Permalink to this headline">¶</a></h3>
<span id="tab-scalarparams"></span><table border="1" class="docutils" id="id12">
<caption><span class="caption-number">Table 14 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">SCALAR%%</span></code> keys in the <code class="docutils literal notranslate"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id12" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="30%" />
<col width="19%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head"><div class="first last line-block">
<div class="line">Value(s)</div>
</div>
</th>
<th class="head"><div class="first last line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">density</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Density</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">diffusivity</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Diffusivity</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="cvode-parameters">
<span id="sec-cvodepars"></span><h3>CVODE Parameters<a class="headerlink" href="#cvode-parameters" title="Permalink to this headline">¶</a></h3>
<span id="tab-cvodeparams"></span><table border="1" class="docutils" id="id13">
<caption><span class="caption-number">Table 15 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">CVODE</span></code> keys in the <code class="docutils literal notranslate"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id13" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="30%" />
<col width="18%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head"><div class="first last line-block">
<div class="line">Value(s)</div>
</div>
</th>
<th class="head"><div class="first last line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">relativeTol</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Relative tolerance (applies to all scalars)</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">stiff</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">no</span></code></div>
<div class="line">(<code class="docutils literal notranslate"><span class="pre">yes</span></code>)</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Controls if BDF or Adams Moulton is used</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">preconditioner</span></code></td>
<td><div class="first last line-block">
<div class="line">(<code class="docutils literal notranslate"><span class="pre">none</span></code>)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">user</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Preconditioner method</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">dtMax</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Maximum internal step size</div>
<div class="line">Controls splitting error of velocity</div>
<div class="line">scalar coupling (e.g. set to 1-4 dt)</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="mesh-file-re2">
<span id="case-files-re2"></span><h2>Mesh File (.re2)<a class="headerlink" href="#mesh-file-re2" title="Permalink to this headline">¶</a></h2>
<p>Stores the mesh and boundary condition.</p>
<p>TODO: Update to re2</p>
<div class="section" id="header">
<h3>Header<a class="headerlink" href="#header" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The 80 byte ASCI header of the file has the following representation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#v002     200  3     100 hdr</span>
</pre></div>
</div>
<p>The header states first how many elements are available in total (200), what
dimension is the the problem (here three dimensional), and how many elements
are in the fluid mesh (100).</p>
</div></blockquote>
</div>
<div class="section" id="element-data">
<h3>Element data<a class="headerlink" href="#element-data" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><blockquote>
<div><span id="tab-element"></span><table border="1" class="docutils" id="id14">
<caption><span class="caption-number">Table 16 </span><span class="caption-text">Geometry description in <code class="docutils literal notranslate"><span class="pre">.rea</span></code> file</span><a class="headerlink" href="#id14" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="31%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="5"><code class="docutils literal notranslate"><span class="pre">ELEMENT</span> <span class="pre">1</span> <span class="pre">[</span> <span class="pre">1A]</span> <span class="pre">GROUP</span> <span class="pre">0</span></code></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td colspan="5"><code class="docutils literal notranslate"><span class="pre">Face</span> <span class="pre">{1,2,3,4}</span></code></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate nohighlight">\(x_{1,\ldots,4}=\)</span></td>
<td>0.000000E+00</td>
<td>0.171820E+00</td>
<td>0.146403E+00</td>
<td>0.000000E+00</td>
</tr>
<tr class="row-even"><td><span class="math notranslate nohighlight">\(y_{1,\ldots,4}=\)</span></td>
<td>0.190000E+00</td>
<td>0.168202E+00</td>
<td>0.343640E+00</td>
<td>0.380000E+00</td>
</tr>
<tr class="row-odd"><td><span class="math notranslate nohighlight">\(z_{1,\ldots,4}=\)</span></td>
<td>0.000000E+00</td>
<td>0.000000E+00</td>
<td>0.000000E+00</td>
<td>0.000000E+00</td>
</tr>
<tr class="row-even"><td colspan="5"><code class="docutils literal notranslate"><span class="pre">Face</span> <span class="pre">{5,6,7,8}</span></code></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate nohighlight">\(x_{5,\ldots,8}=\)</span></td>
<td>0.000000E+00</td>
<td>0.171820E+00</td>
<td>0.146403E+00</td>
<td>0.000000E+00</td>
</tr>
<tr class="row-even"><td><span class="math notranslate nohighlight">\(y_{5,\ldots,8}=\)</span></td>
<td>0.190000E+00</td>
<td>0.168202E+00</td>
<td>0.343640E+00</td>
<td>0.380000E+00</td>
</tr>
<tr class="row-odd"><td><span class="math notranslate nohighlight">\(z_{5,\ldots,8}=\)</span></td>
<td>0.250000E+00</td>
<td>0.250000E+00</td>
<td>0.250000E+00</td>
<td>0.250000E+00</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Following the header, all elements are listed. The fluid elements are listed
first, followed by all solid elements if present.</p>
<p>The data following the header is formatted as shown in <a class="reference internal" href="#tab-element"><span class="std std-numref">Table 16</span></a>. This provides all the coordinates of an element for top and bottom faces. The numbering of the vertices is shown in Fig. <a class="reference internal" href="#fig-elorder"><span class="std std-numref">Fig. 1</span></a>. The header for each element as in <a class="reference internal" href="#tab-element"><span class="std std-numref">Table 16</span></a>, i.e. <code class="docutils literal notranslate"><span class="pre">[1A]</span> <span class="pre">GROUP</span></code> is reminiscent of older <em>Nek5000</em> format and does not impact the mesh generation at this stage.</p>
<blockquote>
<div><div class="align-center figure" id="id15">
<span id="fig-elorder"></span><img alt="rea-geometry" src="../_images/3dcube_1.png" />
<p class="caption"><span class="caption-number">Fig. 1 </span><span class="caption-text">Geometry description in <code class="docutils literal notranslate"><span class="pre">.rea</span></code> file (sketch of one element ordering - Preprocessor
corner notation)</span></p>
</div>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="curved-sides">
<h3>Curved Sides<a class="headerlink" href="#curved-sides" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>This section describes the curvature of the elements. It is expressed as deformation of the linear elements.
Therefore, if no elements are curved (if only linear elements are present) the section remains empty.</p>
<p>The section header may look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">640</span> <span class="n">Curved</span> <span class="n">sides</span> <span class="n">follow</span> <span class="n">IEDGE</span><span class="p">,</span><span class="n">IEL</span><span class="p">,</span><span class="n">CURVE</span><span class="p">(</span><span class="n">I</span><span class="p">),</span><span class="n">I</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span> <span class="n">CCURVE</span>
</pre></div>
</div>
<p>Curvature information is provided by edge and element. Therefore up to 12 curvature entries can be present for each element.
Only non-trivial curvature data needs to be provided, i.e., edges that correspond to linear elements, since they have no curvature, will have no entry.
The formatting for the curvature data is provided in <a class="reference internal" href="#tab-midside"><span class="std std-numref">Table 17</span></a>.</p>
<blockquote>
<div><span id="tab-midside"></span><table border="1" class="docutils" id="id16">
<caption><span class="caption-number">Table 17 </span><span class="caption-text">Curvature information specification</span><a class="headerlink" href="#id16" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="11%" />
<col width="9%" />
<col width="14%" />
<col width="14%" />
<col width="14%" />
<col width="14%" />
<col width="14%" />
<col width="12%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><code class="docutils literal notranslate"><span class="pre">IEDGE</span></code></th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">IEL</span></code></th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">CURVE(1)</span></code></th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">CURVE(2)</span></code></th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">CURVE(3)</span></code></th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">CURVE(4)</span></code></th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">CURVE(5)</span></code></th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">CCURVE</span></code></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>9</td>
<td>2</td>
<td>0.125713</td>
<td>-0.992067</td>
<td>0.00000</td>
<td>0.00000</td>
<td>0.00000</td>
<td>m</td>
</tr>
<tr class="row-odd"><td>10</td>
<td>38</td>
<td>0.125713</td>
<td>-0.992067</td>
<td>3.00000</td>
<td>0.00000</td>
<td>0.00000</td>
<td>m</td>
</tr>
<tr class="row-even"><td>1</td>
<td>40</td>
<td>1.00000</td>
<td>0.000000</td>
<td>0.00000</td>
<td>0.00000</td>
<td>0.00000</td>
<td>C</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>There are several types of possible curvature information represented by <code class="docutils literal notranslate"><span class="pre">CCURVE</span></code>. This include:</p>
<ul class="simple">
<li>‘C’ stands for circle and is given by the radius of the circle,  in <code class="docutils literal notranslate"><span class="pre">CURVE(1)</span></code>, all other compoentns of the <code class="docutils literal notranslate"><span class="pre">CURVE</span></code> array are not used but need to be present.</li>
<li>‘s’ stands for sphere and is given by the radius and the center of the sphere, thus filling the first 4 components of the <code class="docutils literal notranslate"><span class="pre">CURVE</span></code> array. The fifth component needs to be present but is not utilized.</li>
<li>‘m’ is given by the coordinates of the midside-node, thus using the first 3 components of the <code class="docutils literal notranslate"><span class="pre">CURVE</span></code> array, and leads to a second order reconstruction of the face.  The fourth and fifth components need to be present but are not utilized.</li>
</ul>
<p>Both ‘C’ and ‘s’ types allow for a surface of as high order as the polynomial used in the spectral method, since they have an underlying analytical description, any circle arc can be fully determined by the radius and end points. However for the ‘m’ curved element descriptor the surface can be reconstructed only up to second order. This can be later updated to match the high-order polynomial after the GLL points have been distributed across the boundaries. This is the only general mean to describe curvature currrently in Nek5000 and corresponds to a HEX20 representation.</p>
<blockquote>
<div><div class="align-center figure" id="id17">
<span id="fig-edges"></span><img alt="edge-numbering" src="../_images/3dcube.png" />
<p class="caption"><span class="caption-number">Fig. 2 </span><span class="caption-text">Edge numbering in <code class="docutils literal notranslate"><span class="pre">.rea</span></code> file, the edge number is in between parenthesis. The other
numbers represent vertices.</span></p>
</div>
</div></blockquote>
<div class="align-center figure" id="id18">
<span id="fig-ex2"></span><img alt="edge-numbering" src="../_images/modified1.png" />
<p class="caption"><span class="caption-number">Fig. 3 </span><span class="caption-text">Example mesh - with curvature. Circular dots represent example midsize points.</span></p>
</div>
</div></blockquote>
</div>
<div class="section" id="boundaries">
<h3>Boundaries<a class="headerlink" href="#boundaries" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Boundaries are specified for each field in sequence: velocity, temperature and passive scalars. The section header for each field will be as follows (example for the velocity):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*****</span> <span class="n">FLUID</span>   <span class="n">BOUNDARY</span> <span class="n">CONDITIONS</span> <span class="o">*****</span>
</pre></div>
</div>
<p>and the data is stored as illustarted in <a class="reference internal" href="#tab-bcs"><span class="std std-numref">Table 18</span></a>. For each field boundary conditions are listed for each face of each element.</p>
<p>Boundary conditions are given in order per each element, see <a class="reference internal" href="#tab-bcs"><span class="std std-numref">Table 18</span></a> column <code class="docutils literal notranslate"><span class="pre">IEL</span></code>, and faces listed in ascending order 1-6 in column <code class="docutils literal notranslate"><span class="pre">IFACE</span></code>. Note that the header in <a class="reference internal" href="#tab-bcs"><span class="std std-numref">Table 18</span></a> does not appear in the actual <code class="docutils literal notranslate"><span class="pre">.rea</span></code>.</p>
<p>The ordering for faces each element is shown in <a class="reference internal" href="#fig-forder"><span class="std std-numref">Fig. 4</span></a>. A total equivalent to <span class="math notranslate nohighlight">\(6N_{field}\)</span> boundary conditions are listed for each field, where <span class="math notranslate nohighlight">\(N_{field}\)</span> is the number of elements for the specific field. <span class="math notranslate nohighlight">\(N_{field}\)</span> is equal to the total number of fluid elements for the velocity and equal to the total number of elements (including solid elements) for temperature. For the passive scalars it will depend on the specific choice, but typically scalars are solved on the temeprature mesh (solid+fluid).</p>
<blockquote>
<div><div class="align-center figure" id="id19">
<span id="fig-forder"></span><img alt="edge-numbering" src="../_images/3dcube_2.png" />
<p class="caption"><span class="caption-number">Fig. 4 </span><span class="caption-text">Face ordering for each element.</span></p>
</div>
</div></blockquote>
<p>Each BC letter condition is formed by three characters. Common BCs include:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">E</span></code> - internal boundary condition. No additional information needs to be provided.</li>
<li><code class="docutils literal notranslate"><span class="pre">SYM</span></code> - symmetry boundary condition. No additional information needs to be provided.</li>
<li><code class="docutils literal notranslate"><span class="pre">P</span></code> - periodic boundary conditions,  which indicates that an element face is connected to another element to establish a periodic BC. The connecting element and face need be  to specified in <code class="docutils literal notranslate"><span class="pre">CONN-IEL</span></code> and <code class="docutils literal notranslate"><span class="pre">CONN-IFACE</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">v</span></code> - imposed velocity boundary conditions (inlet). The value is specified in the user subroutines. No additional information needs to be provided in the <code class="docutils literal notranslate"><span class="pre">.rea</span></code> file.</li>
<li><code class="docutils literal notranslate"><span class="pre">W</span></code> - wall boundary condition (no-slip) for the velocity. No additional information needs to be provided.</li>
<li><code class="docutils literal notranslate"><span class="pre">O</span></code> - outlet boundary condition (velocity). No additional information needs to be provided.</li>
<li><code class="docutils literal notranslate"><span class="pre">t</span></code> - imposed temperature  boundary conditions (inlet). The value is specified in the user subroutines. No additional information needs to be provided in the <code class="docutils literal notranslate"><span class="pre">.rea</span></code> file.</li>
<li><code class="docutils literal notranslate"><span class="pre">f</span></code> - imposed heat flux  boundary conditions (temperature). The value is specified in the user subroutines. No additional information needs to be provided in the <code class="docutils literal notranslate"><span class="pre">.rea</span></code> file.</li>
<li><code class="docutils literal notranslate"><span class="pre">I</span></code> - adiabatic boundary conditions (temeperature). No additional information needs to be provided.</li>
</ul>
<p>Many of the BCs support either a constant specification or a user defined specification which may be an arbitrary function.   For example, a constant Dirichlet BC for velocity is specified by <code class="docutils literal notranslate"><span class="pre">V</span></code>, while a user defined BC is specified by <code class="docutils literal notranslate"><span class="pre">v</span></code>.   This upper/lower-case distinction is  used for all cases.   There are about 70 different types of boundary conditions in all, including free-surface, moving boundary, heat flux, convective cooling, etc. The above cases are just the most used types.</p>
<blockquote>
<div><span id="tab-bcs"></span><table border="1" class="docutils" id="id20">
<caption><span class="caption-number">Table 18 </span><span class="caption-text">Formatting of boundary conditions input.</span><a class="headerlink" href="#id20" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="10%" />
<col width="10%" />
<col width="13%" />
<col width="16%" />
<col width="19%" />
<col width="10%" />
<col width="10%" />
<col width="10%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><code class="docutils literal notranslate"><span class="pre">CBC</span></code></th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">IEL</span></code></th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">IFACE</span></code></th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">CONN-IEL</span></code></th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">CONN-IFACE</span></code></th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>E</td>
<td>1</td>
<td>1</td>
<td>4.00000</td>
<td>3.00000</td>
<td>0.00000</td>
<td>0.00000</td>
<td>0.00000</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">..</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">..</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">..</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">..</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">..</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">..</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">..</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">..</span></code></td>
</tr>
<tr class="row-even"><td>W</td>
<td>5</td>
<td>3</td>
<td>0.00000</td>
<td>0.00000</td>
<td>0.00000</td>
<td>0.00000</td>
<td>0.00000</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">..</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">..</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">..</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">..</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">..</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">..</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">..</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">..</span></code></td>
</tr>
<tr class="row-even"><td>P</td>
<td>23</td>
<td>5</td>
<td>149.000</td>
<td>6.00000</td>
<td>0.00000</td>
<td>0.00000</td>
<td>0.00000</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div></blockquote>
</div>
</div>
<div class="section" id="size">
<span id="case-files-size"></span><h2>SIZE<a class="headerlink" href="#size" title="Permalink to this headline">¶</a></h2>
<p>SIZE file defines the problem size, i.e.the spatial points at which the solution is to be evaluated within each element, number of elements per processor etc.
The SIZE file governs the memory allocation for most of the arrays
in Nek5000, with the exception of those required by the C utilities.
The <em>basic</em> parameters of interest in SIZE are:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">ldim</span></code> = 2 or 3.  This must be set to 2 for two-dimensional or axisymmetric simulations  (the latter only partially supported) or to 3 for three-dimensional simulations.</li>
<li><code class="docutils literal notranslate"><span class="pre">lx1</span></code> controls the polynomial order of the solution, <span class="math notranslate nohighlight">\(N =\)</span> <code class="docutils literal notranslate"><span class="pre">lx1</span></code> <span class="math notranslate nohighlight">\(-1\)</span>.</li>
<li><code class="docutils literal notranslate"><span class="pre">lxd</span></code> controls the polynomial order of the (over-)integration/dealiasing. Strictly speaking <span class="math notranslate nohighlight">\({\tt lxd=3 * lx1/2}\)</span> is required but often smaller values are good enough.</li>
<li><code class="docutils literal notranslate"><span class="pre">lx2</span></code> = <code class="docutils literal notranslate"><span class="pre">lx1</span></code> or <code class="docutils literal notranslate"><span class="pre">lx1-2</span></code> and is an approximation order for pressure that determines the formulation for the Navier-Stokes  solver (i.e., the choice between the <span class="math notranslate nohighlight">\(\mathbb{P}_N - \mathbb{P}_N\)</span> or <span class="math notranslate nohighlight">\(\mathbb{P}_N - \mathbb{P}_{N-2}\)</span> spectral-element methods).</li>
<li><code class="docutils literal notranslate"><span class="pre">lelg</span></code>, an upper bound on the total number of elements in your mesh.</li>
<li><code class="docutils literal notranslate"><span class="pre">lpmax</span></code>, a maximum number of processors that can be used (Deprecated as of the latest master branch)</li>
<li><code class="docutils literal notranslate"><span class="pre">lpmin</span></code>, a minimum number of processors that can be used</li>
<li><code class="docutils literal notranslate"><span class="pre">ldimt</span></code>, an upper bound on a number of auxilary fields to solve (temperature + other scalars, minimum is 1).</li>
</ul>
<p>The <em>optional</em>
upper bounds on parameters in SIZE are (minimum being 1 unless otherwise noted):</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">lhis</span></code>, a maximum history (i.e. monitoring) points.</li>
<li><code class="docutils literal notranslate"><span class="pre">maxobj</span></code>, a maximum number of objects.</li>
<li><code class="docutils literal notranslate"><span class="pre">lpert</span></code>, a maximum perturbations.</li>
<li><code class="docutils literal notranslate"><span class="pre">toteq</span></code>, a maximum number of conserved scalars in CMT (minimum could be 0).</li>
<li><code class="docutils literal notranslate"><span class="pre">nsessmax</span></code>, a maximum number of (ensemble-average) sessions.</li>
<li><code class="docutils literal notranslate"><span class="pre">lxo</span></code>, a maximum number of points per element for field file output (<code class="docutils literal notranslate"><span class="pre">lxo</span></code> <span class="math notranslate nohighlight">\(\geq\)</span> <code class="docutils literal notranslate"><span class="pre">lx1</span></code>).</li>
<li><code class="docutils literal notranslate"><span class="pre">lelx</span></code>, <code class="docutils literal notranslate"><span class="pre">lely</span></code>, <code class="docutils literal notranslate"><span class="pre">lelz</span></code>, a maximum number of element in each direction for global tensor product solver and/or dimentions.</li>
<li><code class="docutils literal notranslate"><span class="pre">mxprev</span></code>, a maximum dimension of projection space (e.g. 20).</li>
<li><code class="docutils literal notranslate"><span class="pre">lgmres</span></code>, a maximum dimension of Krylov space (e.g. 30).</li>
<li><code class="docutils literal notranslate"><span class="pre">lorder</span></code>, a maximum order of temporal discretization (minimum is2 see also characteristic/OIFS method).</li>
<li><code class="docutils literal notranslate"><span class="pre">lelt</span></code> determines the maximum number of elements <em>per processor</em> (should be not smaller than nelgt/lpmin, e.g. lelg/lpmin+1) (promoted to <em>basic</em> section as of the latest master branch).</li>
<li><code class="docutils literal notranslate"><span class="pre">lx1m</span></code>, a polynomial order for mesh solver that should be equal to lx1 in case of ALE and in case of stress-formulation (=1 otherwise).</li>
<li><code class="docutils literal notranslate"><span class="pre">lbelt</span></code> determines the maximum number of elements per processor for MHD solver that should be equalt to lelt (=1 otherwise).</li>
<li><code class="docutils literal notranslate"><span class="pre">lpelt</span></code> determines the maximum number of elements per processor for linear stability solver that should be equalt to lelt (=1 otherwise).</li>
<li><code class="docutils literal notranslate"><span class="pre">lcvelt</span></code> determines the maximum number of elements per processor for CVODE solver that should be equalt to lelt (=1 otherwise).</li>
<li><code class="docutils literal notranslate"><span class="pre">lfdm</span></code> equals to 1 for global tensor product solver (that uses fast diagonalization method) being 0 otherwise.</li>
</ul>
<p>Note that one also need to include the following line to SIZE file:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">include</span> <span class="s1">&#39;SIZE.inc&#39;</span>
</pre></div>
</div>
<p>that defines addional internal parameters.</p>
</div>
<div class="section" id="mesh-partitioning-file-map-ma2">
<span id="case-files-ma2"></span><h2>Mesh Partitioning File (.map/.ma2)<a class="headerlink" href="#mesh-partitioning-file-map-ma2" title="Permalink to this headline">¶</a></h2>
<p>TODO: Add more details</p>
</div>
<div class="section" id="restart-output-files-f">
<span id="case-files-fld"></span><h2>Restart/Output files (.f#####)<a class="headerlink" href="#restart-output-files-f" title="Permalink to this headline">¶</a></h2>
<p>Field files are used to read/write physical fields in both serial and parallel.  They have extension <code class="docutils literal notranslate"><span class="pre">.f#####</span></code>
where # is a numeral. The file format is unique to Nek5000 and is described in this section.</p>
<p>The file is composed of:</p>
<blockquote>
<div><ul class="simple">
<li>Header</li>
<li>Global element IDs, coordinates, and field data</li>
<li>Metadata</li>
</ul>
</div></blockquote>
<p>The <strong>header</strong> provides information about the types, sizes, and layout of the field data.
The header is a fixed size of 132 bytes.  Its data elements are encoded as either ASCII or binary values.
In the table below, the offsets and widths are measured in bytes. Note that consecutive entries are separated
by a single byte, which is the ASCII space character.  Finally, note that the data entries do not require all 132 bytes.</p>
<p>Some elements that require additional explanation are:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">nz</span></code>:  This is the number of GLL gridpoints in the z-direction. If equal to 1, the field data were
produced for a 2D simulation.  If &gt; 1, the data were produced for a 3D simulation.</li>
<li><code class="docutils literal notranslate"><span class="pre">rdcode</span></code>: Specifies the type and ordering of fields that are present in this file.
The code can consist of the following.  All fields are optional, but if present, they are expected
to appear in this order.<ul>
<li><code class="docutils literal notranslate"><span class="pre">X</span></code> : Coordinates</li>
<li><code class="docutils literal notranslate"><span class="pre">U</span></code> : Velocity</li>
<li><code class="docutils literal notranslate"><span class="pre">P</span></code> : Pressure</li>
<li><code class="docutils literal notranslate"><span class="pre">T</span></code> : Temperature</li>
<li><code class="docutils literal notranslate"><span class="pre">S#</span></code>: Passive scalar(s).  # is a numeral that specifies the number of different passive scalars.</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">test</span> <span class="pre">value</span></code>: When Nek5000 writes the header to file, it writes the specific value 6.54321 as a
test value.  When the file is later read – possibly on a different computer – the test value is
read and compared to the expected value.  If the values match, then the computer that wrote the file
and the computer that is now reading the file use the same endianness for floating-point numbers.
If not, the computers have different endianness.  In that case, the floating-point data should be
byte-swapped by the computer reading the data.</li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="7%" />
<col width="6%" />
<col width="8%" />
<col width="13%" />
<col width="47%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Offset</th>
<th class="head">Width</th>
<th class="head">Encoding</th>
<th class="head">Datatype</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">tag</span></code></td>
<td>0</td>
<td>4</td>
<td>ASCII</td>
<td>text</td>
<td>The string <code class="docutils literal notranslate"><span class="pre">#std</span></code>. Tags the start of the fil</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">wdsize</span></code></td>
<td>5</td>
<td>1</td>
<td>ASCII</td>
<td>integer</td>
<td>Floating-point precision of field data (in bytes)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">nx</span></code></td>
<td>7</td>
<td>2</td>
<td>ASCII</td>
<td>integer</td>
<td>Number of GLL points per element in x direction</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ny</span></code></td>
<td>10</td>
<td>2</td>
<td>ASCII</td>
<td>integer</td>
<td>Number of GLL points per element in y direction</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">nz</span></code></td>
<td>13</td>
<td>2</td>
<td>ASCII</td>
<td>integer</td>
<td>Number of GLL points per element in z direction</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">nelt</span></code></td>
<td>16</td>
<td>10</td>
<td>ASCII</td>
<td>integer</td>
<td>Number of elements in this file</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">nelgt</span></code></td>
<td>27</td>
<td>10</td>
<td>ASCII</td>
<td>integer</td>
<td>Number of global elements</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">time</span></code></td>
<td>38</td>
<td>20</td>
<td>ASCII</td>
<td>decimal</td>
<td>Absolute simulation time of this file’s state</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">iostep</span></code></td>
<td>59</td>
<td>9</td>
<td>ASCII</td>
<td>integer</td>
<td>I/O timestep of this file’s state</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">fid</span></code></td>
<td>69</td>
<td>6</td>
<td>ASCII</td>
<td>integer</td>
<td>Index of this file (when using multi-file output)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">nfileoo</span></code></td>
<td>76</td>
<td>6</td>
<td>ASCII</td>
<td>integer</td>
<td>Number of files produced at this I/O step</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">rdcode</span></code></td>
<td>83</td>
<td>10</td>
<td>ASCII</td>
<td>text</td>
<td>Specifies which fields contained in this file</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">p0th</span></code></td>
<td>94</td>
<td>15</td>
<td>ASCII</td>
<td>decimal</td>
<td>Thermodynamic pressure</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">if_press_mesh</span></code></td>
<td>110</td>
<td>1</td>
<td>ASCII</td>
<td>text</td>
<td>States whether pressure mesh is being used</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">test_value</span></code></td>
<td>112</td>
<td>4</td>
<td>binary</td>
<td>32-bit float</td>
<td>The decimal 6.54321.  Used to test endianness.</td>
</tr>
</tbody>
</table>
<p>The <strong>global element IDs, coordinates, and field data</strong> start at offset 136 bytes.  Integer data are always 32-bit.
The precision of floating-point data is inferred from the value of <code class="docutils literal notranslate"><span class="pre">wdsize</span></code> (see above).  The number of
dimensions (<code class="docutils literal notranslate"><span class="pre">ndims</span></code>) is inferred from <code class="docutils literal notranslate"><span class="pre">nz</span></code> (see above).  The global element IDs are required, but the
coordinates and any field data are optional.  Their presence of coordinates and field data are inferred from
<code class="docutils literal notranslate"><span class="pre">rdcode</span></code>, as described above.</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="14%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Datatype</th>
<th class="head">Shape</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Global element IDs</td>
<td>integer</td>
<td><code class="docutils literal notranslate"><span class="pre">(nelt)</span></code></td>
</tr>
<tr class="row-odd"><td>Coordinates</td>
<td>float</td>
<td><code class="docutils literal notranslate"><span class="pre">(nelt,</span> <span class="pre">ndims,</span> <span class="pre">nx</span> <span class="pre">*</span> <span class="pre">ny</span> <span class="pre">*</span> <span class="pre">nz)</span></code></td>
</tr>
<tr class="row-even"><td>Velocity</td>
<td>float</td>
<td><code class="docutils literal notranslate"><span class="pre">(nelt,</span> <span class="pre">ndims,</span> <span class="pre">nx</span> <span class="pre">*</span> <span class="pre">ny</span> <span class="pre">*</span> <span class="pre">nz)</span></code></td>
</tr>
<tr class="row-odd"><td>Pressure</td>
<td>float</td>
<td><code class="docutils literal notranslate"><span class="pre">(nelt,</span> <span class="pre">nx</span> <span class="pre">*</span> <span class="pre">ny</span> <span class="pre">*</span> <span class="pre">nz)</span></code></td>
</tr>
<tr class="row-even"><td>Temperature</td>
<td>float</td>
<td><code class="docutils literal notranslate"><span class="pre">(nelt,</span> <span class="pre">nx</span> <span class="pre">*</span> <span class="pre">ny</span> <span class="pre">*</span> <span class="pre">nz)</span></code></td>
</tr>
<tr class="row-odd"><td>Passive scalars</td>
<td>float</td>
<td><code class="docutils literal notranslate"><span class="pre">(nscalars,</span> <span class="pre">nelt,</span> <span class="pre">nx</span> <span class="pre">*</span> <span class="pre">ny</span> <span class="pre">*</span> <span class="pre">nz)</span></code></td>
</tr>
</tbody>
</table>
<p>TODO: Describe metadata</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="BCs.html" class="btn btn-neutral float-left" title="Boundary Conditions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="usr_file.html" class="btn btn-neutral float-right" title="User Routines File (.usr)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2015-2023, UCHICAGO ARGONNE, LLC.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>