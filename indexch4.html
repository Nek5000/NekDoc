<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>4 Geometry</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,index=1,2,fn-in --> 
<meta name="src" content="index.tex"> 
<meta name="date" content="2015-11-06 22:02:00"> 
<link rel="stylesheet" type="text/css" href="index.css"> 
</head><body 
>
   <!--l. 108--><div class="crosslinks"><p class="noindent">[<a 
href="indexch5.html" >next</a>] [<a 
href="indexch3.html" >prev</a>] [<a 
href="indexch3.html#tailindexch3.html" >prev-tail</a>] [<a 
href="#tailindexch4.html">tail</a>] [<a 
href="index.html#indexch4.html" >up</a>] </p></div>
   <h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;4</span><br /><a 
 id="x6-330004"></a>Geometry</h2>
<!--l. 1--><p class="noindent" >The domain in which the fluid flow/heat transfer problem is solved consists of two distinct subdomains.
The first subdomain is that part of the region occupied by fluid, denoted <img 
src="index134x.png" alt="&Omega;
 f  "  class="math" >, while the
second subdomain is that part of the region occupied by a solid, denoted <img 
src="index135x.png" alt="&Omega;s  "  class="math" >. These two
subdomains are depicted in Fig.&#x00A0;<a 
href="indexch1.html#x3-50011">1.1<!--tex4ht:ref: fig:domains --></a>. The entire domain is denoted as <img 
src="index136x.png" alt="D = &Omega;f &cup; &Omega;s  "  class="math" >. The
fluid problem is solved in the domain <img 
src="index137x.png" alt="&Omega;f  "  class="math" >, while the temperature in the energy equation is
solved in the entire domain; the passive scalars can be solved in either the fluid or the entire
domain.
<!--l. 12--><p class="indent" >   We denote the entire boundary of <img 
src="index138x.png" alt="&Omega;f  "  class="math" > as <img 
src="index139x.png" alt="&part;&Omega;f  "  class="math" >, that part of the boundary of <img 
src="index140x.png" alt="&Omega;f  "  class="math" > which
is not shared by <img 
src="index141x.png" alt="&Omega;
 s  "  class="math" > as <img 
src="index142x.png" alt="&part;-&Omega;-
   f  "  class="math" >, and that part of the boundary of <img 
src="index143x.png" alt="&Omega;
 f  "  class="math" > which is shared by
<img 
src="index144x.png" alt="&Omega;s  "  class="math" >. In addition, <img 
src="index145x.png" alt="     ----
&part; &Omega;s,&part;&Omega;s  "  class="math" > are analogously defined. These distinct portions of the domain
boundary are illustrated in Fig.<a 
href="indexch1.html#x3-50011">1.1<!--tex4ht:ref: fig:domains --></a>. The restrictions on the domain for Nek5000 are itemized
below.
     <ul class="itemize1">
     <li class="itemize">The domain <img 
src="index146x.png" alt="&Omega; = &Omega;f &cup; &Omega;s  "  class="math" > must correspond either to a planar (Cartesian) two-dimensional
     geometry, or to the cross-section of an axisymmetric region specified by revolution of the
     cross-section about a specified axis, or by a (Cartesian) three-dimensional geometry.
     </li>
     <li class="itemize">For two-dimensional and axisymmetric geometries, the boundaries of both subdomains, <img 
src="index147x.png" alt="&part;&Omega;f  "  class="math" >
     and <img 
src="index148x.png" alt="&part; &Omega;
   s  "  class="math" >, must be representable as (or at least approximated by) the union of straight line
     segments, splines, or circular arcs.
     </li>
     <li class="itemize">Nek5000 can interpret a two-dimensional image as either a planar Cartesian geometry, or
     the cross-section of an axisymmetric body. In the case of the latter, it is assumed that the
     y-direction is the radial direction, that is, the axis of revolution is at y=0. Although an
     axisymmetric  geometry  is,  in  fact,  three-dimensional,  Nek5000  can  assume  that  the  field
     variables are also axisymmetric ( that is, do not depend on azimuth, but only <img 
src="index149x.png" alt="y  "  class="math" >, that is,
     radius, <img 
src="index150x.png" alt="x  "  class="math" >, and <img 
src="index151x.png" alt="t  "  class="math" > ), thus reducing the relevant equations to "two-dimensional" form.</li></ul>
<!--l. 43--><p class="indent" >   Fully general three-dimensional meshes generated by other softwares packages can be input to
PRENEK as import meshes.
   <h4 class="subsectionHead"><span class="titlemark">4.0.1   </span> <a 
 id="x6-340004.0.1"></a>Moving Geometry</h4>
<!--l. 47--><p class="noindent" >If the imposed boundary conditions allow for motion of the boundary during the solution period (for
example, moving walls, free-surfaces, melting fronts, fluid layers), then the geometry of the computational
domain is automatically considered in Nek5000 as being time-dependent.
<!--l. 53--><p class="indent" >   For time-dependent geometry problems, a mesh velocity <span 
class="ecbx-1095">w </span>is defined at each collocation
point of the computational domain (mesh) to characterize the deformation of the mesh. In
the solution of the mesh velocity, the value of the mesh velocity at the moving boundaries is
first computed using appropriate kinematic conditions (for free-surfaces, moving walls and
fluid layers) or dynamic conditions (for melting fronts). On all other external boundaries, the
normal mesh velocity on the boundary is always set to zero. In the tangential direction, either
a zero tangential velocity condition or a zero tangential traction condition is imposed; this
                                                                                         
                                                                                         
selection is automatically performed by Nek5000 based on the fluid and/or thermal boundary
conditions specified on the boundary. However, under special circumstances the user may want to
override the defaults set by Nek5000, this is described in the PRENEK manual in Section
5.7.<span class="footnote-mark"><a 
href="#fn1x5" id="fn1x5-bk"><sup class="textsuperscript">1</sup></a></span><a 
 id="x6-34001f1"></a> If
the zero tangential mesh velocity is imposed, then the mesh is fixed in space; if the zero traction condition
is imposed, then the mesh can slide along the tangential directions on the boundary. The resulting
boundary-value-problem for the mesh velocity is solved in Nek5000 using a elastostatic solver, with the
Poisson ratio typically set to zero. The new mesh geometry is then computed by integrating
the mesh velocity explicitly in time and updating the nodal coordinates of the collocation
points.
<!--l. 82--><p class="indent" >   Note that the number of macro-elements, the order of the macro-elements and the topology
of the mesh remain <span 
class="ecti-1095">unchanged </span>even though the geometry is time-dependent. The use of an
arbitrary-Lagrangian-Eulerian description in Nek5000 ensures that the moving fronts are tracked with the
minimum amount of mesh distortion; in addition, the elastostatic mesh solver can handle moderately large
mesh distortion. However, it is the responsibility of the user to decide when a mesh would become "too
deformed" and thus requires remeshing. The execution of the program will terminate when the mesh
becomes unacceptable, that is, a one-to-one mapping between the physical coordinates and the
isoparametric local coordinates for any macro-element no longer exists.  Note that in case of any changes
in the SIZE file, a recompilation is necessary.<br 
class="newline" />
   <h3 class="sectionHead"><span class="titlemark">4.1   </span> <a 
 id="x6-350004.1"></a>Setting up the geometry</h3>
<!--l. 112--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.1.1   </span> <a 
 id="x6-360004.1.1"></a>Rectangular geometries</h4>
<!--l. 1--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.1.2   </span> <a 
 id="x6-370004.1.2"></a>Uniformly Distributed Mesh</h4>
<!--l. 3--><p class="noindent" >Suppose you wish to simulate flow through an axisymmetric pipe, of radius <img 
src="index152x.png" alt="R = 0.5  "  class="math" > and length <img 
src="index153x.png" alt="L = 4  "  class="math" >.
You estimate that you will need 3 elements in radial (<img 
src="index154x.png" alt="y  "  class="math" >) direction, and 5 in the <img 
src="index155x.png" alt="x  "  class="math" > direction, as
depicted in Fig. <a 
href="#x6-370011">4.1<!--tex4ht:ref: fig:mesh_axi1 --></a>. This would be specified by the following input file (called <span 
class="ecti-1095">pipe.box</span>) to
genbox:
                                                                                         
                                                                                         
   <div class="verbatim" id="verbatim-29">
axisymmetric.rea
&#x00A0;<br />2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;spatial&#x00A0;dimension
&#x00A0;<br />1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;number&#x00A0;of&#x00A0;fields
&#x00A0;<br />#
&#x00A0;<br />#&#x00A0;&#x00A0;&#x00A0;&#x00A0;comments:&#x00A0;&#x00A0;&#x00A0;This&#x00A0;is&#x00A0;the&#x00A0;box&#x00A0;immediately&#x00A0;behind&#x00A0;the
&#x00A0;<br />#&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;refined&#x00A0;cylinder&#x00A0;in&#x00A0;Ugo&#8217;s&#x00A0;cyl+b.l.&#x00A0;run.
&#x00A0;<br />#
&#x00A0;<br />#
&#x00A0;<br />#========================================================
&#x00A0;<br />#
&#x00A0;<br />Box&#x00A0;1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Pipe
&#x00A0;<br />-5&#x00A0;-3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Nelx&#x00A0;&#x00A0;Nely
&#x00A0;<br />0.0&#x00A0;&#x00A0;&#x00A0;4.0&#x00A0;&#x00A0;&#x00A0;1.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;x0&#x00A0;&#x00A0;x1&#x00A0;&#x00A0;&#x00A0;ratio
&#x00A0;<br />0.0&#x00A0;&#x00A0;&#x00A0;0.5&#x00A0;&#x00A0;&#x00A0;1.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;y0&#x00A0;&#x00A0;y1&#x00A0;&#x00A0;&#x00A0;ratio
&#x00A0;<br />v&#x00A0;&#x00A0;,O&#x00A0;&#x00A0;,A&#x00A0;&#x00A0;,W&#x00A0;&#x00A0;,&#x00A0;&#x00A0;&#x00A0;,&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;BC&#8217;s:&#x00A0;&#x00A0;(cbx0,&#x00A0;cbx1,&#x00A0;cby0,&#x00A0;cby1,&#x00A0;cbz0,&#x00A0;cbz1)
</div>
<!--l. 26--><p class="nopar" > <hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x6-370011"></a>
                                                                                         
                                                                                         
<!--l. 29--><p class="noindent" ><img 
src="index156x.png" alt="PIC" class="graphics" width="375.80544pt" height="62.31487pt" ><!--tex4ht:graphics  
name="index156x.png" src="Figs/mesh_axi1.eps"  
-->
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;4.1: </span><span  
class="content">Axisymmteric pipe mesh</span></div><!--tex4ht:label?: x6-370011 -->
                                                                                         
                                                                                         
<!--l. 32--><p class="indent" >   </div><hr class="endfigure">
<!--l. 33--><p class="noindent" >
     <ul class="itemize1">
     <li class="itemize">The first line of this file supplies the name of an existing 2D .rea file that has the appropriate
     run parameters (viscosity, timestep size, etc.). These parameters can be modified later, but it
     is important that axisymmetric.rea be a 2D file, and not a 3D file.
     </li>
     <li class="itemize">The  second  line  indicates  the  number  of  fields  for  this  simulation,  in  this  case,  just  1,
     corresponding to the velocity field (i.e., no heat transfer).
     </li>
     <li class="itemize">The next set of lines just shows how one can place comments into a genbox input file.
     </li>
     <li class="itemize">The line that starts with &#8220;Box&#8221; indicates that a new box is starting, and that the following
     lines describe a typical box input. Other possible key characters (the first character of Box,
     &#8220;B&#8221;) are &#8220;C&#8221; and &#8220;M&#8221;, more on those later.
     </li>
     <li class="itemize">The first line after &#8220;Box&#8221; specifies the number of elements in the <img 
src="index157x.png" alt="x  "  class="math" > and <img 
src="index158x.png" alt="y  "  class="math" > directions. The
     fact that these values are negative indicates that you want genbox to automatically generate
     the element distribution along each axis, rather than providing it by hand. (More on this
     below.)
     </li>
     <li class="itemize">The next line specifies the distribution of the 5 elements in the <img 
src="index159x.png" alt="x  "  class="math" > direction. The mesh
     starts at <img 
src="index160x.png" alt="x = 0  "  class="math" > and ends at <img 
src="index161x.png" alt="x = 4.0  "  class="math" >. The <span 
class="ecti-1095">ratio </span>indicates the relative size of each element,
     progressing from left to right. Here,
     </li>
     <li class="itemize">The next line specifies the distribution of the 3 elements in the <img 
src="index162x.png" alt="y  "  class="math" > direction, starting at
     <img 
src="index163x.png" alt="y = 0  "  class="math" > and going to <img 
src="index164x.png" alt="y = 0.5  "  class="math" >. Again, <span 
class="ecti-1095">ratio</span>=1.0 indicates that the elements will be of uniform
     height.
     </li>
     <li class="itemize">The last line specifies boundary conditions on each of the 4 sides of the box:
          <ul class="itemize2">
          <li class="itemize">Lower-case  <span 
class="ecti-1095">v  </span>indicates  that  the  left  (<img 
src="index165x.png" alt="x  "  class="math" >)  boundary  is  to  be  a  velocity  boundary
          condition, with a user-specified distribution determined by routine <span 
class="ecti-1095">userbc </span>in the .usr file.
          (Upper-case <img 
src="index166x.png" alt="V  "  class="math" > would indicate that the velocity is constant, with values specified in
          the .rea file.)
          </li>
          <li class="itemize"><span 
class="ecti-1095">O </span>indicates that the right (<img 
src="index167x.png" alt="x  "  class="math" >) boundary is an outflow boundary &#8211; the flow leaves the
          domain at the left and the default exit pressure is <img 
src="index168x.png" alt="p = 0  "  class="math" >.
                                                                                         
                                                                                         
          </li>
          <li class="itemize"><span 
class="ecti-1095">A </span>indicates that the lower (<img 
src="index169x.png" alt="y  "  class="math" >) boundary is the axis&#8212;this condition is mandatory for
          the axisymmetric case, given the fact that the lower domain boundary is at <img 
src="index170x.png" alt="y = 0  "  class="math" >,
          which corresponds to <img 
src="index171x.png" alt="r = 0  "  class="math" >.
          </li>
          <li class="itemize"><span 
class="ecti-1095">W </span>indicates that the upper (<img 
src="index172x.png" alt="y  "  class="math" >) boundary is a wall. This would be equivalent to a <span 
class="ecti-1095">v </span>or
          <span 
class="ecti-1095">V </span>boundary condition, with <img 
src="index173x.png" alt="u = 0  "  class="math" >.</li></ul>
     </li></ul>
   <h4 class="subsectionHead"><span class="titlemark">4.1.3   </span> <a 
 id="x6-380004.1.3"></a>Graded Mesh</h4>
<!--l. 89--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x6-380012"></a>
                                                                                         
                                                                                         
<!--l. 91--><p class="noindent" ><img 
src="index174x.png" alt="PIC" class="graphics" width="375.80544pt" height="62.31487pt" ><!--tex4ht:graphics  
name="index174x.png" src="Figs/mesh_axi2.eps"  
-->
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;4.2: </span><span  
class="content">Axisymmteric pipe mesh, graded</span></div><!--tex4ht:label?: x6-380012 -->
                                                                                         
                                                                                         
<!--l. 94--><p class="noindent" ></div><hr class="endfigure">
<!--l. 96--><p class="indent" >   Suppose you wish to have the mesh be graded, that you have increased resolution near the wall. In this
case you change <span 
class="ecti-1095">ratio </span>in the <img 
src="index175x.png" alt="y  "  class="math" >-specification of the element distribution. For example, changing the 3 lines
in the above genbox input file from
                                                                                         
                                                                                         
   <div class="verbatim" id="verbatim-30">
-5&#x00A0;-3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Nelx&#x00A0;&#x00A0;Nely
&#x00A0;<br />0.0&#x00A0;&#x00A0;&#x00A0;4.0&#x00A0;&#x00A0;&#x00A0;1.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;x0&#x00A0;&#x00A0;x1&#x00A0;&#x00A0;&#x00A0;ratio
&#x00A0;<br />0.0&#x00A0;&#x00A0;&#x00A0;0.5&#x00A0;&#x00A0;&#x00A0;1.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;y0&#x00A0;&#x00A0;y1&#x00A0;&#x00A0;&#x00A0;ratio
</div>
<!--l. 106--><p class="nopar" >
<!--l. 108--><p class="noindent" >to
                                                                                         
                                                                                         
   <div class="verbatim" id="verbatim-31">
-5&#x00A0;-4&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Nelx&#x00A0;&#x00A0;Nely
&#x00A0;<br />0.0&#x00A0;&#x00A0;&#x00A0;4.0&#x00A0;&#x00A0;&#x00A0;1.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;x0&#x00A0;&#x00A0;x1&#x00A0;&#x00A0;&#x00A0;ratio
&#x00A0;<br />0.0&#x00A0;&#x00A0;&#x00A0;0.5&#x00A0;&#x00A0;&#x00A0;0.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;y0&#x00A0;&#x00A0;y1&#x00A0;&#x00A0;&#x00A0;ratio
</div>
<!--l. 115--><p class="nopar" >
<!--l. 117--><p class="noindent" >yields the mesh shown in Fig. <a 
href="#x6-380012">4.2<!--tex4ht:ref: fig:mesh_axi2 --></a>.
   <h4 class="subsectionHead"><span class="titlemark">4.1.4   </span> <a 
 id="x6-390004.1.4"></a>User-Specified Distribution</h4>
<!--l. 122--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x6-390013"></a>
                                                                                         
                                                                                         
<!--l. 124--><p class="noindent" ><img 
src="index176x.png" alt="PIC" class="graphics" width="281.85587pt" height="46.73566pt" ><!--tex4ht:graphics  
name="index176x.png" src="Figs/mesh_axi3.eps"  
-->
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;4.3: </span><span  
class="content">Axisymmteric pipe mesh, user specified</span></div><!--tex4ht:label?: x6-390013 -->
                                                                                         
                                                                                         
<!--l. 127--><p class="noindent" ></div><hr class="endfigure">
<!--l. 129--><p class="indent" >   You can also specify your own, precise, distribution of element locations. For example, another graded
mesh similar to the one of the preceding example could be built by changing the genbox input file to
contain:
                                                                                         
                                                                                         
   <div class="verbatim" id="verbatim-32">
-5&#x00A0;&#x00A0;4&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Nelx&#x00A0;&#x00A0;Nely
&#x00A0;<br />0.0&#x00A0;&#x00A0;&#x00A0;4.0&#x00A0;&#x00A0;&#x00A0;1.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;x0&#x00A0;&#x00A0;x1&#x00A0;&#x00A0;&#x00A0;ratio
&#x00A0;<br />0.000&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.250&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.375&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.450&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.500&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;y0&#x00A0;&#x00A0;y1&#x00A0;...&#x00A0;y4
</div>
<!--l. 139--><p class="nopar" >
<!--l. 141--><p class="noindent" >Here, the positive number of elements for the <img 
src="index177x.png" alt="y  "  class="math" > direction indicates that genbox is expecting
<span 
class="ectt-1095">Nely+1 </span>values of <img 
src="index178x.png" alt="y  "  class="math" > positions on the <img 
src="index179x.png" alt="y  "  class="math" >-element distribution line. This is the genbox default,
which explains why it corresponds to <span 
class="ectt-1095">Nely</span> <img 
src="index180x.png" alt="&#x003E;  "  class="math" > 0. The corresponding mesh is shown in Fig.
<a 
href="#x6-390013">4.3<!--tex4ht:ref: fig:mesh_axi3 --></a>.
   <h4 class="subsectionHead"><span class="titlemark">4.1.5   </span> <a 
 id="x6-400004.1.5"></a>Mesh Modification in Nek5000</h4>
<!--l. 151--><p class="noindent" >For complex shapes, it is often convenient to modify the mesh direction in the simulation
code, Nek5000. This can be done through the usrdat2 routine provided in the .usr file. The
routine usrdat2 is called by nek5000 immediately after the geometry, as specified by the .rea
file, is established. Thus, one can use the existing geometry to map to a new geometry of
interest.
<!--l. 159--><p class="indent" >   For example, suppose you want the above pipe geometry to have a sinusoidal wall. Let <img 
src="index181x.png" alt="x := (x,y)  "  class="math" >
denote the old geometry, and <img 
src="index182x.png" alt="x &prime; := (x&prime;,y&prime;)  "  class="math" > denote the new geometry. For a domain with <img 
src="index183x.png" alt="y &isin; [0,0.5]  "  class="math" >,
the following function will map the straight pipe geometry to a wavy wall with amplitude <img 
src="index184x.png" alt="A  "  class="math" >, wavelength
<img 
src="index185x.png" alt="&lambda;  "  class="math" >: <div class="eqnarray">
   <center class="math-display" >
<img 
src="index186x.png" alt="y &prime;(x,y) = y + yA sin(2&pi;x&#x2215;&lambda;).
" class="math-display" ></center>
</div>Note that, as <img 
src="index187x.png" alt="y &minus;&rarr; 0  "  class="math" >, the perturbation, <img 
src="index188x.png" alt="yA sin(2 &pi;x&#x2215;&lambda;)  "  class="math" >, goes to zero. So, near the axis, the mesh
recovers its original form.
<!--l. 171--><p class="indent" >   In nek5000, you would specify this through usrdat2 as follows
                                                                                         
                                                                                         
   <div class="verbatim" id="verbatim-33">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;subroutine&#x00A0;usrdat2
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;include&#x00A0;&#8217;SIZE&#8217;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;include&#x00A0;&#8217;TOTAL&#8217;
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;real&#x00A0;lambda
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;ntot&#x00A0;=&#x00A0;nx1*ny1*nz1*nelt
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;lambda&#x00A0;=&#x00A0;3.
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;A&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;=&#x00A0;0.1
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;do&#x00A0;i=1,ntot
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;argx&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;=&#x00A0;2*pi*xm1(i,1,1,1)/lambda
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;ym1(i,1,1,1)&#x00A0;=&#x00A0;ym1(i,1,1,1)&#x00A0;+&#x00A0;ym1(i,1,1,1)*A*sin(argx)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;enddo
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;param(59)&#x00A0;=&#x00A0;1.&#x00A0;&#x00A0;!&#x00A0;Force&#x00A0;nek5&#x00A0;to&#x00A0;recognize&#x00A0;element&#x00A0;deformation.
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;end
</div>
<!--l. 195--><p class="nopar" > Note that, since nek5000 is modifying the mesh, postx will not recognize the current mesh unless you tell
it to, because postx looks to the .rea file for the mesh geometry. The only way for nek5000 to communicate
the new mesh to postx is via the .fld file, so you must request that the geometry be dumped to the .fld file.
This is done by modifying the OUTPUT SPECIFICATIONS, which are found near the bottom of the .rea
file. Specifically, change
                                                                                         
                                                                                         
   <div class="verbatim" id="verbatim-34">
&#x00A0;&#x00A0;*****&#x00A0;OUTPUT&#x00A0;FIELD&#x00A0;SPECIFICATION&#x00A0;*****
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;6&#x00A0;SPECIFICATIONS&#x00A0;FOLLOW
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;F&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;COORDINATES
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;T&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;VELOCITY
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;T&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;PRESSURE
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;T&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;TEMPERATURE
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;F&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;TEMPERATURE&#x00A0;GRADIENT
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;PASSIVE&#x00A0;SCALARS
</div>
<!--l. 215--><p class="nopar" >
<!--l. 217--><p class="noindent" >to
                                                                                         
                                                                                         
   <div class="verbatim" id="verbatim-35">
&#x00A0;&#x00A0;*****&#x00A0;OUTPUT&#x00A0;FIELD&#x00A0;SPECIFICATION&#x00A0;*****
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;6&#x00A0;SPECIFICATIONS&#x00A0;FOLLOW
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;T&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;COORDINATES&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x003C;------&#x00A0;&#x00A0;CHANGE&#x00A0;HERE
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;T&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;VELOCITY
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;T&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;PRESSURE
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;T&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;TEMPERATURE
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;F&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;TEMPERATURE&#x00A0;GRADIENT
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;PASSIVE&#x00A0;SCALARS
</div>
<!--l. 229--><p class="nopar" >
<!--l. 231--><p class="noindent" >The result of above changes is shown in Fig. <a 
href="#x6-400024">4.4<!--tex4ht:ref: fig:wavypipe --></a>. <hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x6-400024"></a>
                                                                                         
                                                                                         
<!--l. 235--><p class="noindent" ><img 
src="index189x.png" alt="PIC" class="graphics" width="375.80544pt" height="62.31487pt" ><!--tex4ht:graphics  
name="index189x.png" src="Figs/wavypipe.eps"  
-->
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;4.4: </span><span  
class="content">Axisymmteric pipe mesh</span></div><!--tex4ht:label?: x6-400024 -->
                                                                                         
                                                                                         
<!--l. 238--><p class="indent" >   </div><hr class="endfigure">
   <h4 class="subsectionHead"><span class="titlemark">4.1.6   </span> <a 
 id="x6-410004.1.6"></a>Cylindrical/Cartesian-transition Annuli</h4>
<!--l. 241--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x6-410035"></a>
                                                                                         
                                                                                         
<a 
 id="x6-41001r1"></a>
<!--l. 243--><p class="noindent" ><img 
src="index190x.png" alt="PIC" class="graphics" width="140.92793pt" height="140.92737pt" ><!--tex4ht:graphics  
name="index190x.png" src="Figs/cylbox_2d.eps"  
-->
<span 
class="ecrm-0900">(a) Annuli mesh</span>                          <a 
 id="x6-41002r2"></a><img 
src="index191x.png" alt="PIC" class="graphics" width="140.92793pt" height="140.92737pt" ><!--tex4ht:graphics  
name="index191x.png" src="Figs/cylbox_2d.eps"  
-->
                                      <span 
class="ecrm-0900">(b) Annuli mesh</span>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;4.5: </span><span  
class="content">Cylinder mesh</span></div><!--tex4ht:label?: x6-410035 -->
                                                                                         
                                                                                         
<!--l. 247--><p class="noindent" ></div><hr class="endfigure">
<!--l. 250--><p class="indent" >   An updated version of genb6, known as genb7, is currently under development and designed to
simply/automate the construction of cylindrical annuli, including <span 
class="ecti-1095">basic </span>transition-to-Cartesian elements.
More sophisticated transition treatments may be generated using the GLOBAL REFINE options in prenek
or through an upgrade of genb7, as demand warrants. Example 2D and 3D input files are provided in the
nek5000/doc files <span 
class="ecti-1095">box7.2d </span>and <span 
class="ecti-1095">box7.3d</span>. Figure <a 
href="#x6-41001r1">4.5a<!--tex4ht:ref: fig:cylbox_2d --></a> shows a 2D example generated using the <span 
class="ecti-1095">box7.2d </span>input
file, which reads:
                                                                                         
                                                                                         
   <div class="verbatim" id="verbatim-36">
x2d.rea
&#x00A0;<br />2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;spatial&#x00A0;dimension
&#x00A0;<br />1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;number&#x00A0;of&#x00A0;fields
&#x00A0;<br />#
&#x00A0;<br />#&#x00A0;&#x00A0;&#x00A0;&#x00A0;comments
&#x00A0;<br />#
&#x00A0;<br />#
&#x00A0;<br />#========================================================
&#x00A0;<br />#
&#x00A0;<br />Y&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;cYlinder
&#x00A0;<br />3&#x00A0;-24&#x00A0;1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;nelr,nel_theta,nelz
&#x00A0;<br />.5&#x00A0;.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;x0,y0&#x00A0;-&#x00A0;center&#x00A0;of&#x00A0;cylinder
&#x00A0;<br />ccbb&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;descriptors:&#x00A0;c-cyl,&#x00A0;o-oct,&#x00A0;b-box&#x00A0;(1&#x00A0;character&#x00A0;+&#x00A0;space)
&#x00A0;<br />.5&#x00A0;.55&#x00A0;.7&#x00A0;.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;r0&#x00A0;r1&#x00A0;...&#x00A0;r_nelr
&#x00A0;<br />0&#x00A0;&#x00A0;1&#x00A0;&#x00A0;1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;theta0/2pi&#x00A0;theta1/2pi&#x00A0;&#x00A0;ratio
&#x00A0;<br />v&#x00A0;&#x00A0;,W&#x00A0;&#x00A0;,E&#x00A0;&#x00A0;,E&#x00A0;&#x00A0;,&#x00A0;&#x00A0;&#x00A0;&#x00A0;bc&#8217;s&#x00A0;(3&#x00A0;characters&#x00A0;+&#x00A0;comma)
</div>
<!--l. 276--><p class="nopar" >
<!--l. 278--><p class="noindent" >An example of a mesh is shown in Fig. <a 
href="#x6-41001r1">4.5a<!--tex4ht:ref: fig:cylbox_2d --></a>. The mesh has been quad-refined once with oct-refine option of
prenek. The 3D counterpart to this mesh could joined to a hemisphere/Cartesian transition built with the
spherical mesh option in prenek.
   <h3 class="sectionHead"><span class="titlemark">4.2   </span> <a 
 id="x6-420004.2"></a>Extrusion/Mirroring</h3>
<!--l. 1--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.2.1   </span> <a 
 id="x6-430004.2.1"></a>Building Extruded Meshes with n2to3</h4>
<!--l. 3--><p class="noindent" >In nek5000/tools, there is a code n2to3.f that can be compiled with your local fortran compiler (preferably
not g77). By running this code, you can extend two dimensional domains to three dimensional ones with a
user-specified number of levels in the z-direction. Such a mesh can then be modified using the mesh
modification approach. Assuming you have a valid two-dimensional mesh, n2to3 is straightforward
to run. Below is a typical session, upon typing <span 
class="ectt-1095">n2to3 </span>the user is prompted at the command
line
                                                                                         
                                                                                         
   <div class="verbatim" id="verbatim-37">
&#x00A0;Input&#x00A0;old&#x00A0;(source)&#x00A0;file&#x00A0;name:
&#x00A0;<br />h2e
&#x00A0;<br />&#x00A0;Input&#x00A0;new&#x00A0;(output)&#x00A0;file&#x00A0;name:
&#x00A0;<br />h3e
&#x00A0;<br />&#x00A0;input&#x00A0;number&#x00A0;of&#x00A0;levels:&#x00A0;(1,&#x00A0;2,&#x00A0;3,...&#x00A0;etc.?):
&#x00A0;<br />16
&#x00A0;<br />&#x00A0;input&#x00A0;z&#x00A0;min:
&#x00A0;<br />0
&#x00A0;<br />&#x00A0;input&#x00A0;z&#x00A0;max:
&#x00A0;<br />16
&#x00A0;<br />&#x00A0;input&#x00A0;gain&#x00A0;(0=custom,1=uniform,other=geometric&#x00A0;spacing):
&#x00A0;<br />1
&#x00A0;<br />&#x00A0;This&#x00A0;is&#x00A0;for&#x00A0;CEM:&#x00A0;yes&#x00A0;or&#x00A0;no:
&#x00A0;<br />n
&#x00A0;<br />&#x00A0;Enter&#x00A0;Z&#x00A0;(5)&#x00A0;boundary&#x00A0;condition&#x00A0;(P,v,O):
&#x00A0;<br />v
&#x00A0;<br />&#x00A0;Enter&#x00A0;Z&#x00A0;(6)&#x00A0;boundary&#x00A0;condition&#x00A0;(v,O):
&#x00A0;<br />0
&#x00A0;<br />&#x00A0;this&#x00A0;is&#x00A0;cbz:&#x00A0;v&#x00A0;&#x00A0;O&#x00A0;&#x00A0;&#x00A0;&#x003C;---
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;320&#x00A0;elements&#x00A0;written&#x00A0;to&#x00A0;h3e.rea
&#x00A0;<br />FORTRAN&#x00A0;STOP
</div>
<!--l. 34--><p class="nopar" >
<!--l. 36--><p class="indent" >   In this context CEM stands for computational electromagnetics, a spin-off of the original Nek5000
code.
<!--l. 118--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">4.3   </span> <a 
 id="x6-440004.3"></a>Boundary and initial conditions</h3>
<!--l. 2--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.3.1   </span> <a 
 id="x6-450004.3.1"></a>Boundary Conditions</h4>
<!--l. 4--><p class="noindent" >The boundary conditions for the governing equations given in the previous section are now
described.
<!--l. 12--><p class="indent" >   The boundary conditions can be imposed in various ways:
     <ul class="itemize1">
     <li class="itemize">when the mesh is generated with <span 
class="ectt-1095">genbox</span>, as will be explained in Section&#x00A0;<a 
href="#x6-410004.1.6">4.1.6<!--tex4ht:ref: sec:genbox --></a>
     </li>
     <li class="itemize">when the .rea file is read in PRENEK or directly in the .rea file
                                                                                         
                                                                                         
     </li>
     <li class="itemize">directly in the .rea file
     </li>
     <li class="itemize">in the subroutine <span 
class="ectt-1095">userbc</span></li></ul>
<!--l. 20--><p class="indent" >   The general convention for boundary conditions in the .rea file is
     <ul class="itemize1">
     <li class="itemize">upper case letters correspond to Primitive boundary conditions, as given in Table&#x00A0;<span 
class="ecbx-1095">??</span>
     </li>
     <li class="itemize">lower case letters correspond to user defined boundary conditions, see Table&#x00A0;<span 
class="ecbx-1095">??</span></li></ul>
<!--l. 26--><p class="indent" >   Since there are no supporting tools that will correctly populate the .rea file with the appropriate
values, temperature, velocity, and flux boundary conditions are typically lower case and values must be
specified in the <span 
class="ectt-1095">userbc </span>subroutine in the .usr file.
   <h4 class="subsectionHead"><span class="titlemark">4.3.2   </span> <a 
 id="x6-460004.3.2"></a>Fluid Velocity</h4>
<!--l. 29--><p class="noindent" >Two types of boundary conditions are applicable to the fluid velocity : essential (Dirichlet) boundary
condition in which the velocity is specified; natural (Neumann) boundary condition in which the traction is
specified. For segments that constitute the boundary <img 
src="index192x.png" alt="&part;&Omega;f  "  class="math" >, see Fig.&#x00A0;<a 
href="indexch1.html#x3-50011">1.1<!--tex4ht:ref: fig:domains --></a>, one of these two types of
boundary conditions must be assigned to each component of the fluid velocity. The fluid boundary
condition can be <span 
class="ecti-1095">all Dirichlet </span>if all velocity components of <img 
src="index193x.png" alt="u  "  class="math" > are specified; or it can be <span 
class="ecti-1095">all Neumann </span>if all
traction components <img 
src="index194x.png" alt="                       T
t = [&minus; pI + &mu;(&nabla;u + (&nabla;u ) )]&sdot;n  "  class="math" >, where <img 
src="index195x.png" alt="I  "  class="math" > is the identity tensor, <img 
src="index196x.png" alt="n  "  class="math" > is the unit
normal and <img 
src="index197x.png" alt="&mu;  "  class="math" > is the dynamic viscosity, are specified; or it can be <span 
class="ecti-1095">mixed Dirichlet/Neumann </span>if Dirichlet
and Neumann conditions are selected for different velocity components. Examples for all Dirichlet, all
Neumann and mixed Dirichhlet/Neumann boundaries are wall, free-surface and symmetry, respectively. If
the nonstress formulation is selected, then traction is not defined on the boundary. In this
case, any Neumann boundary condition imposed must be homogeneous; i.e., equal to zero. In
addition, mixed Dirichlet/Neumann boundaries must be aligned with one of the Cartesian
axes.
<!--l. 56--><p class="indent" >   For flow geometry which consists of a periodic repetition of a particular geometric unit, the periodic
boundary conditions can be imposed, as illustrated in Fig.&#x00A0;<a 
href="indexch1.html#x3-50011">1.1<!--tex4ht:ref: fig:domains --></a>.
   <div class="table">
                                                                                         
                                                                                         
<!--l. 62--><p class="indent" >   <a 
 id="x6-460011"></a><hr class="float"><div class="float" 
>
                                                                                         
                                                                                         
<div class="tabular"> <table id="TBL-7" class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-7-1g"><col 
id="TBL-7-1"></colgroup><colgroup id="TBL-7-2g"><col 
id="TBL-7-2"></colgroup><colgroup id="TBL-7-3g"><col 
id="TBL-7-3"></colgroup><colgroup id="TBL-7-4g"><col 
id="TBL-7-4"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-1-1"  
class="td11"> Identifier  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-1-2"  
class="td11"> Description                  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-1-3"  
class="td11"> Parameters                    </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-1-4"  
class="td11"> No of Parameters  </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-2-1"  
class="td11"> P            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-2-2"  
class="td11"> periodic                      </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-2-3"  
class="td11"> periodic element and face  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-2-4"  
class="td11"> 2                       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-3-1"  
class="td11"> V            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-3-2"  
class="td11"> Dirichlet velocity          </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-3-3"  
class="td11"> u,v,w                            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-3-4"  
class="td11"> 3                       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-4-1"  
class="td11"> O            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-4-2"  
class="td11"> outflow                       </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-4-3"  
class="td11"> -                                  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-4-4"  
class="td11"> 0                       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-5-1"  
class="td11"> W           </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-5-2"  
class="td11"> wall (no slip)               </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-5-3"  
class="td11"> -                                  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-5-4"  
class="td11"> 0                       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-6-1"  
class="td11"> F             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-6-2"  
class="td11"> flux                            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-6-3"  
class="td11"> flux                              </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-6-4"  
class="td11"> 1                       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-7-1"  
class="td11"> SYM        </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-7-2"  
class="td11"> symmetry                    </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-7-3"  
class="td11"> -                                  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-7-4"  
class="td11"> 0                       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-8-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-8-1"  
class="td11"> A            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-8-2"  
class="td11"> axisymmetric boundary  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-8-3"  
class="td11"> -                                  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-8-4"  
class="td11"> 0                       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-9-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-9-1"  
class="td11"> MS          </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-9-2"  
class="td11"> moving boundary          </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-9-3"  
class="td11"> -                                  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-9-4"  
class="td11"> 0                       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-10-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-10-1"  
class="td11"> ON          </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-10-2"  
class="td11"> Outflow, Normal           </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-10-3"  
class="td11"> -                                  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-10-4"  
class="td11"> 0                       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-11-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-11-1"  
class="td11"> E            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-11-2"  
class="td11"> Interior boundary         </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-11-3"  
class="td11"> Neighbour element ID      </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-11-4"  
class="td11"> 2                       </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-12-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-12-1"  
class="td11">          </td></tr></table></div>
<br /> <div class="caption" 
><span class="id">Table&#x00A0;4.1: </span><span  
class="content">Primitive boundary conditions (flow velocity)</span></div><!--tex4ht:label?: x6-460011 -->
                                                                                         
                                                                                         
   </div><hr class="endfloat" />
   </div>
   <div class="table">
                                                                                         
                                                                                         
<!--l. 81--><p class="indent" >   <a 
 id="x6-460022"></a><hr class="float"><div class="float" 
>
                                                                                         
                                                                                         
<div class="tabular"> <table id="TBL-8" class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-8-1g"><col 
id="TBL-8-1"></colgroup><colgroup id="TBL-8-2g"><col 
id="TBL-8-2"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-8-1-1"  
class="td11"> Identifier  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-8-1-2"  
class="td11"> Description                                </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-8-2-1"  
class="td11"> v             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-8-2-2"  
class="td11"> user defined Dirichlet velocity        </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-8-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-8-3-1"  
class="td11"> t             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-8-3-2"  
class="td11"> user defined Dirichlet temperature  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-8-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-8-4-1"  
class="td11"> f              </td><td  style="white-space:nowrap; text-align:left;" id="TBL-8-4-2"  
class="td11"> user defined flux                         </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-8-5-1"  
class="td11">          </td></tr></table></div>
<br /> <div class="caption" 
><span class="id">Table&#x00A0;4.2: </span><span  
class="content">User defined boundary conditions (flow velocity)</span></div><!--tex4ht:label?: x6-460022 -->
                                                                                         
                                                                                         
   </div><hr class="endfloat" />
   </div>
<!--l. 98--><p class="noindent" ><span class="likeparagraphHead"><a 
 id="x6-470004.3.2"></a></span>
   The open(outflow) boundary condition ("O") arises as a natural boundary condition from the
variational formulation of Navier Stokes. We identify two situations
     <ul class="itemize1">
     <li class="itemize">In the non-stress formulation, open boundary condition (&#8217;Do nothing&#8217;)
     <table 
class="equation"><tr><td><a 
 id="x6-47001r1"></a>
     <center class="math-display" >
     <img 
src="index198x.png" alt="[&minus; pI+  &nu;(&nabla;u )]&sdot; n = 0
     " class="math-display" ></center></td><td class="equation-label">(4.1)</td></tr></table>
     <!--l. 104--><p class="nopar" >
     </li>
     <li class="itemize">In the stress formulation, free traction boundary condition
     <table 
class="equation"><tr><td><a 
 id="x6-47002r2"></a>
     <center class="math-display" >
     <img 
src="index199x.png" alt="[&minus; pI+ &nu;(&nabla;u  + &nabla;uT )]&sdot;n = 0
     " class="math-display" ></center></td><td class="equation-label">(4.2)</td></tr></table>
     <!--l. 108--><p class="nopar" >
     </li>
     <li class="itemize">the symmetric boundary condition ("SYM") is given as <div class="eqnarray">
                                                                                         
                                                                                         
     <center class="math-display" >
     <img 
src="index200x.png" alt="      u&sdot;n   =  0 ,                               (4.3)

(&nabla;u &sdot;t)&sdot;n   =  0                                 (4.4)
     " class="math-display" ></center>
     </div>where <img 
src="index201x.png" alt="n  "  class="math" > is the normal vector and <img 
src="index202x.png" alt="t  "  class="math" > the tangent vector. If the normal and tangent vector are not
     aligned with the mesh the stress formulation has to be used.
     </li>
     <li class="itemize">the periodic boundary condition ("P") needs to be prescribed in the .rea file since it
     already assigns the last point to first via <img 
src="index203x.png" alt="u(x ) = u(x + L )  "  class="math" >, where <img 
src="index204x.png" alt="L  "  class="math" > is the periodic
     length.
     </li>
     <li class="itemize">the wall boundary condition ("W") corresponds to <img 
src="index205x.png" alt="u = 0  "  class="math" >.</li></ul>
<!--l. 128--><p class="indent" >   For a fully-developed flow in such a configuration, one can effect great computational efficiencies by
considering the problem in a single geometric unit (here taken to be of length L), and requiring
periodicity of the field variables. Nek5000 requires that the pairs of sides (or faces, in the case
of a three-dimensional mesh) identified as periodic be identical (i.e., that the geometry be
periodic).
<!--l. 136--><p class="indent" >   For an axisymmetric flow geometry, the axis boundary condition is provided for boundary
segments that lie entirely on the axis of symmetry. This is essentially a symmetry (mixed
Dirichlet/Neumann) boundary condition in which the normal velocity and the tangential traction are set
to zero.
<!--l. 144--><p class="indent" >   For free-surface boundary segments, the inhomogeneous traction boundary conditions involve both the
surface tension coefficient <img 
src="index206x.png" alt="&sigma;  "  class="math" > and the mean curvature of the free surface.
   <h5 class="subsubsectionHead"><a 
 id="x6-480004.3.2"></a>Passive scalars and Temperature</h5>
<!--l. 150--><p class="noindent" >The three types of boundary conditions applicable to the temperature are: essential (Dirichlet) boundary
condition in which the temperature is specified; natural (Neumann) boundary condition in which the heat
flux is specified; and mixed (Robin) boundary condition in which the heat flux is dependent on the
temperature on the boundary. For segments that constitute the boundary <img 
src="index207x.png" alt="   &prime;     &prime;
&part;&Omega; f &cup; &part; &Omega;s  "  class="math" > (refer
to Fig. 2.1), one of the above three types of boundary conditions must be assigned to the
temperature.
<!--l. 162--><p class="indent" >   The two types of Robin boundary condition for temperature are : convection boundary conditions
for which the heat flux into the domain depends on the heat transfer coefficient <img 
src="index208x.png" alt="hc  "  class="math" > and
the difference between the environmental temperature <img 
src="index209x.png" alt="T
  &infin; "  class="math" > and the surface temperature;
and radiation boundary conditions for which the heat flux into the domain depends on the
Stefan-Boltzmann constant/view-factor product <img 
src="index210x.png" alt="hrad  "  class="math" > and the difference between the fourth power
                                                                                         
                                                                                         
of the environmental temperature <img 
src="index211x.png" alt="T&infin; "  class="math" > and the fourth power of the surface temperature.
<div class="table">
                                                                                         
                                                                                         
<!--l. 173--><p class="indent" >   <a 
 id="x6-480013"></a><hr class="float"><div class="float" 
>
                                                                                         
                                                                                         
<div class="tabular"> <table id="TBL-9" class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-9-1g"><col 
id="TBL-9-1"></colgroup><colgroup id="TBL-9-2g"><col 
id="TBL-9-2"></colgroup><colgroup id="TBL-9-3g"><col 
id="TBL-9-3"></colgroup><colgroup id="TBL-9-4g"><col 
id="TBL-9-4"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-9-1-1"  
class="td11"> Identifier  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-9-1-2"  
class="td11"> Description                                   </td><td  style="white-space:nowrap; text-align:left;" id="TBL-9-1-3"  
class="td11"> Parameters  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-9-1-4"  
class="td11"> No of Parameters  </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-9-2-1"  
class="td11"> T            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-9-2-2"  
class="td11"> Dirichlet temperature/scalar            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-9-2-3"  
class="td11"> value          </td><td  style="white-space:nowrap; text-align:left;" id="TBL-9-2-4"  
class="td11"> 1                       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-9-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-9-3-1"  
class="td11"> O            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-9-3-2"  
class="td11"> outflow                                        </td><td  style="white-space:nowrap; text-align:left;" id="TBL-9-3-3"  
class="td11"> -               </td><td  style="white-space:nowrap; text-align:left;" id="TBL-9-3-4"  
class="td11"> 0                       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-9-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-9-4-1"  
class="td11"> P            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-9-4-2"  
class="td11"> periodic boundary                          </td><td  style="white-space:nowrap; text-align:left;" id="TBL-9-4-3"  
class="td11"> -               </td><td  style="white-space:nowrap; text-align:left;" id="TBL-9-4-4"  
class="td11"> 0                       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-9-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-9-5-1"  
class="td11"> I             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-9-5-2"  
class="td11"> insulated (zero flux) for temperature  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-9-5-3"  
class="td11">            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-9-5-4"  
class="td11"> 0                       </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-9-6-1"  
class="td11">          </td></tr></table></div>
<br /> <div class="caption" 
><span class="id">Table&#x00A0;4.3: </span><span  
class="content">Primitive boundary conditions (Temperature and Passive scalars)</span></div><!--tex4ht:label?: x6-480013 -->
                                                                                         
                                                                                         
   </div><hr class="endfloat" />
   </div>
   <div class="table">
                                                                                         
                                                                                         
<!--l. 186--><p class="indent" >   <a 
 id="x6-480024"></a><hr class="float"><div class="float" 
>
                                                                                         
                                                                                         
<div class="tabular"> <table id="TBL-10" class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-10-1g"><col 
id="TBL-10-1"></colgroup><colgroup id="TBL-10-2g"><col 
id="TBL-10-2"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-10-1-1"  
class="td11"> Identifier  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-1-2"  
class="td11"> Description                                </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-10-2-1"  
class="td11"> t             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-2-2"  
class="td11"> user defined Dirichlet temperature  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-10-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-10-3-1"  
class="td11"> c             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-3-2"  
class="td11"> Newton cooling                          </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-10-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-10-4-1"  
class="td11"> f              </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-4-2"  
class="td11"> user defined flux                         </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-10-5-1"  
class="td11">          </td></tr></table></div>
<br /> <div class="caption" 
><span class="id">Table&#x00A0;4.4: </span><span  
class="content">User defined boundary conditions (Temperature and Passive scalars)</span></div><!--tex4ht:label?: x6-480024 -->
                                                                                         
                                                                                         
   </div><hr class="endfloat" />
   </div>
<!--l. 197--><p class="noindent" ><span class="likeparagraphHead"><a 
 id="x6-490004.3.2"></a></span>
     <ul class="itemize1">
     <li class="itemize">open boundary condition ("O")
     <table 
class="equation"><tr><td><a 
 id="x6-49001r5"></a>
     <center class="math-display" >
     <img 
src="index212x.png" alt="k (&nabla;T  )&sdot;n = 0
     " class="math-display" ></center></td><td class="equation-label">(4.5)</td></tr></table>
     <!--l. 202--><p class="nopar" >
     </li>
     <li class="itemize">insulated boundary condition ("I")
     <table 
class="equation"><tr><td><a 
 id="x6-49002r6"></a>
     <center class="math-display" >
     <img 
src="index213x.png" alt="k (&nabla;T  )&sdot;n = 0
     " class="math-display" ></center></td><td class="equation-label">(4.6)</td></tr></table>
     <!--l. 206--><p class="nopar" >
     where <img 
src="index214x.png" alt="n  "  class="math" > is the normal vector and <img 
src="index215x.png" alt="t  "  class="math" > the tangent vector. If the normal and tangent vector are not
     aligned with the mesh the stress formulation has to be used.
     </li>
     <li class="itemize">the periodic boundary condition ("P") needs to be prescribed in the .rea file since it
     already assigns the last point to first via <img 
src="index216x.png" alt="u(x ) = u(x + L )  "  class="math" >, where <img 
src="index217x.png" alt="L  "  class="math" > is the periodic
     length.
                                                                                         
                                                                                         
     </li>
     <li class="itemize">Newton cooling boundary condition ("c")
     <table 
class="equation"><tr><td><a 
 id="x6-49003r7"></a>
     <center class="math-display" >
     <img 
src="index218x.png" alt="k(&nabla;T ) &sdot;n = h(T &minus; T&infin; )
     " class="math-display" ></center></td><td class="equation-label">(4.7)</td></tr></table>
     <!--l. 214--><p class="nopar" >
     </li>
     <li class="itemize">flux boundary condition ("f")
     <table 
class="equation"><tr><td><a 
 id="x6-49004r8"></a>
     <center class="math-display" >
     <img 
src="index219x.png" alt="k(&nabla;T  )&sdot;n = f
     " class="math-display" ></center></td><td class="equation-label">(4.8)</td></tr></table>
     <!--l. 218--><p class="nopar" >
     </li></ul>
<!--l. 222--><p class="indent" >   The boundary conditions for the passive scalar fields are analogous to those used for the temperature
field. Thus, the temperature boundary condition menu will reappear for each passive scalar field so
that the user can specify an independent set of boundary conditions for each passive scalar
field.
                                                                                         
                                                                                         
<!--l. 2--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.3.3   </span> <a 
 id="x6-500004.3.3"></a>Internal Boundary Conditions</h4>
<!--l. 4--><p class="noindent" >In the spatial discretization, the entire computational domain is subdivided into macro-elements, the
boundary segments shared by any two of these macro-elements in <img 
src="index220x.png" alt="&Omega;f  "  class="math" > and <img 
src="index221x.png" alt="&Omega;s  "  class="math" > are denoted as internal
boundaries. For fluid flow analysis with a single-fluid system or heat transfer analysis without
change-of-phase, internal boundary conditions are irrelevant as the corresponding field variables on these
segments are part of the solution. However, for a multi-fluid system and for heat transfer analysis with
change-of-phase, special conditions are required at particular internal boundaries, as described in the
following.
<!--l. 17--><p class="indent" >   For a fluid system composes of multiple immiscible fluids, the boundary (and hence the identity) of
each fluid must be tracked, and a jump in the normal traction exists at the fluid-fluid interface if the
surface tension coefficient is nonzero. For this purpose, the interface between any two fluids of different
identity must be defined as a special type of internal boundary, namely, a fluid layer; and the associated
surface tension coefficient also needs to be specified.
<!--l. 28--><p class="indent" >   In a heat transfer analysis with change-of-phase, Nek5000 assumes that both phases exist at the start
of the solution, and that all solid-liquid interfaces are specified as special internal boundaries, namely, the
melting fronts. If the fluid flow problem is considered, i.e., the energy equation is solved in conjunction
with the momentum and continuity equations, then only the common boundary between the fluid and the
solid (i.e., all or portion of <img 
src="index222x.png" alt="&part;&Omega;-&prime;
   f  "  class="math" > in Fig.&#x00A0;<a 
href="indexch1.html#x3-50011">1.1<!--tex4ht:ref: fig:domains --></a>) can be defined as the melting front. In this case,
segments on <img 
src="index223x.png" alt=" --&prime;
&part;&Omega; f  "  class="math" > that belong to the dynamic melting/freezing interface need to be specified by
the user. Nek5000 always assumes that the density of the two phases are the same (i.e., no
Stefan flow); therefore at the melting front, the boundary condition for the fluid velocity is the
same as that for a stationary wall, that is, all velocity components are zero. If no fluid flow is
considered, i.e., only the energy equation is solved, then any internal boundary can be defined as a
melting front. The temperature boundary condition at the melting front corresponds to a
Dirichlet condition; that is, the entire segment maintains a constant temperature equal to the
user-specified melting temperature <img 
src="index224x.png" alt="Tmelt  "  class="math" > throughout the solution. In addition, the volumetric
latent heat of fusion <img 
src="index225x.png" alt="&rho;L  "  class="math" > for the two phases, which is also assumed to be constant, should be
specified.
   <h4 class="subsectionHead"><span class="titlemark">4.3.4   </span> <a 
 id="x6-510004.3.4"></a>Initial Conditions</h4>
<!--l. 3--><p class="noindent" >For time-dependent problems Nek5000 allows the user to choose among the following types of initial
conditions for the velocity, temperature and passive scalars:
     <ul class="itemize1">
     <li class="itemize">Zero initial conditions: default; if nothing is specified.
     </li>
     <li class="itemize">Fortran function: This option allows the user to specify the initial condition as a fortran
     function, e.g., as a function of <img 
src="index226x.png" alt="x  "  class="math" >, <img 
src="index227x.png" alt="y  "  class="math" > and <img 
src="index228x.png" alt="z  "  class="math" >.
     </li>
     <li class="itemize">Presolv: For a temperature problem the presolv option gives the steady conduction solution
     as initial condition for the temperature. For a fluid problem this option <span 
class="ecti-1095">can </span>give the steady
     Stokes solution as the initial condition for the velocity <span 
class="ecti-1095">provided </span>that the classical splitting
     scheme is <span 
class="ecti-1095">not </span>used.
                                                                                         
                                                                                         
     </li>
     <li class="itemize">Restart: this option allows the user to read in results from an earlier simulation, and use these
     as initial conditions.</li></ul>
<!--l. 19--><p class="noindent" >A tabulated summary of the compatibility of these initial condition options with various other solution
strategies/parameters is given in the appendix.
   <h3 class="sectionHead"><span class="titlemark">4.4   </span> <a 
 id="x6-520004.4"></a>Mesh Partioning for Parallel Computing</h3>
<!--l. 1--><p class="noindent" >Genmap is spectral graph partitioning tool, similar to e.g. METIS, which partitions the graph associated
to the mesh to assure optimal communication time in HPC applications. Let us consider a simple mesh
such as the one in Fig.&#x00A0;<a 
href="#x6-520016">4.6<!--tex4ht:ref: fig:genmap --></a>. The vertices are distributed in a random fashion, which is the way
they may be provided by some mesh generator. Let us assume the vertices are here given
as
   <center class="math-display" >
<img 
src="index229x.png" alt="V1 = (&minus; 1,0), V2 = (0,1), V3 = (&minus; 1,2), V4 = (&minus; 1,1), V5 = (0,2), V6 = (0,0), V7 = (1,1), V8 = (1,0)
" class="math-display" ></center>
<!--l. 2--><p class="nopar" > The geometry is already stored in the .rea file by the point coordinates, and not vertex numbers
<!--tex4ht:inline--><div class="tabular"> <table id="TBL-11" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-11-1g"><col 
id="TBL-11-1"><col 
id="TBL-11-2"><col 
id="TBL-11-3"><col 
id="TBL-11-4"></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-11-1-"><td  style="white-space:nowrap; text-align:center;" id="TBL-11-1-1"  
class="td11"> <img 
src="index230x.png" alt="Element  1 = [V1 V6 V2 V4]  "  class="math" >  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-1-2"  
class="td11">    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-1-3"  
class="td11">    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-1-4"  
class="td11">    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-11-2-1"  
class="td11">        <img 
src="index231x.png" alt="x     =
 1,...,4  "  class="math" > -1.            </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-2-2"  
class="td11"> 0.  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-2-3"  
class="td11"> 0.  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-2-4"  
class="td11"> -1.  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-11-3-1"  
class="td11">        <img 
src="index232x.png" alt="y1,...,4 =  "  class="math" > 0.             </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-3-2"  
class="td11"> 0.  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-3-3"  
class="td11"> 1.  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-3-4"  
class="td11"> 1.  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-11-4-1"  
class="td11"> <img 
src="index233x.png" alt="Element  2 = [V8 V7 V2 V6]  "  class="math" >  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-4-2"  
class="td11">    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-4-3"  
class="td11">    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-4-4"  
class="td11">    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-5-"><td  style="white-space:nowrap; text-align:center;" id="TBL-11-5-1"  
class="td11">        <img 
src="index234x.png" alt="x1,...,4 =  "  class="math" > 1.             </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-5-2"  
class="td11"> 1.  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-5-3"  
class="td11"> 0.  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-5-4"  
class="td11"> 0.  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-6-"><td  style="white-space:nowrap; text-align:center;" id="TBL-11-6-1"  
class="td11">        <img 
src="index235x.png" alt="y1,...,4 =  "  class="math" > 0.             </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-6-2"  
class="td11"> 1.  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-6-3"  
class="td11"> 1.  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-6-4"  
class="td11"> 0.  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-7-"><td  style="white-space:nowrap; text-align:center;" id="TBL-11-7-1"  
class="td11"> <img 
src="index236x.png" alt="Element  3 = [V5 V3 V4 V2]  "  class="math" >  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-7-2"  
class="td11">    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-7-3"  
class="td11">    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-7-4"  
class="td11">    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-8-"><td  style="white-space:nowrap; text-align:center;" id="TBL-11-8-1"  
class="td11">        <img 
src="index237x.png" alt="x1,...,4 =  "  class="math" > 0.             </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-8-2"  
class="td11"> -1.  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-8-3"  
class="td11"> -1.  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-8-4"  
class="td11"> 0.  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-9-"><td  style="white-space:nowrap; text-align:center;" id="TBL-11-9-1"  
class="td11">        <img 
src="index238x.png" alt="y1,...,4 =  "  class="math" > 2 .            </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-9-2"  
class="td11"> 2.  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-9-3"  
class="td11"> 1.  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-9-4"  
class="td11"> 1.  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-10-"><td  style="white-space:nowrap; text-align:center;" id="TBL-11-10-1"  
class="td11">                           </td></tr></table></div>
<!--l. 19--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x6-520016"></a>
                                                                                         
                                                                                         
<!--l. 21--><p class="noindent" ><img 
src="index239x.png" alt="PIC" class="graphics" width="115.43124pt" height="121.45375pt" ><!--tex4ht:graphics  
name="index239x.png" src="Figs/genmap_sketch.eps"  
-->
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;4.6: </span><span  
class="content">Two-dimensional mesh</span></div><!--tex4ht:label?: x6-520016 -->
                                                                                         
                                                                                         
<!--l. 24--><p class="indent" >   </div><hr class="endfigure">
<!--l. 26--><p class="indent" >   Let us a regard the mesh in Fig.&#x00A0;<a 
href="#x6-520016">4.6<!--tex4ht:ref: fig:genmap --></a> as a graph of <img 
src="index240x.png" alt="N  "  class="math" > vertices and <img 
src="index241x.png" alt="M  "  class="math" > edges, <img 
src="index242x.png" alt="G (VN ,EM )  "  class="math" >. We
define the Laplacian matrix associated to a graph <img 
src="index243x.png" alt="G  "  class="math" > as <img 
src="index244x.png" alt="L(G )  "  class="math" >. We define as the degree of a node <img 
src="index245x.png" alt="Vi  "  class="math" >
the number of incident edges, e.g. in Fig.&#x00A0;<a 
href="#x6-520016">4.6<!--tex4ht:ref: fig:genmap --></a> <img 
src="index246x.png" alt="deg(V2) = 4  "  class="math" > and <img 
src="index247x.png" alt="deg (V6) = 3  "  class="math" >.
   <table 
class="equation"><tr><td><a 
 id="x6-52002r9"></a>
   <center class="math-display" >
<img 
src="index248x.png" alt="         {
L(G )  =   i = j    deg(Vi)
     ij     i &frasl;= j    &minus; 1 if there is and edge (i,j) and 0 otherwise
" class="math-display" ></center></td><td class="equation-label">(4.9)</td></tr></table>
<!--l. 33--><p class="nopar" >
   <table 
class="equation"><tr><td><a 
 id="x6-52003r10"></a>
   <center class="math-display" >
<img 
src="index249x.png" alt="       (------1---2----3---4----5---6----7----8)-
       | 1|   2   0    0  &minus; 1   0   &minus; 1  0    0|
       || 2|   0   4    0  &minus; 1  &minus; 1  &minus; 1 &minus; 1   0||
       ||                                       ||
       || 3|   0   0    2  &minus; 1  &minus; 1  0    0    0||
L(G) = | 4|  &minus; 1 &minus; 1  &minus; 1  3    0   0    0    0|
       || 5|   0  &minus; 1  &minus; 1  0    2   0    0    0||
       || 6|  &minus; 1 &minus; 1   0   0    0   3    0   &minus; 1||
       || 7|   0  &minus; 1   0   0    0   0    2   &minus; 1||
       ( 8|   0   0    0   0    0   &minus; 1 &minus; 1   2)
" class="math-display" ></center></td><td class="equation-label">(4.10)</td></tr></table>
<!--l. 48--><p class="nopar" >
<!--l. 50--><p class="indent" >   Properties of <img 
src="index250x.png" alt="L(G )  "  class="math" >
     <ul class="itemize1">
     <li class="itemize"><img 
src="index251x.png" alt="L (G)  "  class="math" > symmetric
                                                                                         
                                                                                         
     </li>
     <li class="itemize">the unit vector <img 
src="index252x.png" alt="e = [1,...1] &isin; N (L(G ))  "  class="math" > is in the nullspace of the Laplacian matrix
     </li>
     <li class="itemize"><img 
src="index253x.png" alt="&forall; &lambda; &isin; &sigma; (L (G) &#x003E; 0  "  class="math" >, i.e. all the eigenvalues of <img 
src="index254x.png" alt="L (G )  "  class="math" > are positive except <img 
src="index255x.png" alt="&lambda;0   "  class="math" > corresponding
     to the unit vector
     </li>
     <li class="itemize"><img 
src="index256x.png" alt="&lambda;2 &frasl;= 0  "  class="math" > if the graph is connected, <img 
src="index257x.png" alt="&lambda;2(L (G))  "  class="math" > is also called the algebraic connectivity of the
     graph</li></ul>
<!--l. 58--><p class="indent" >   The main ides of the spectral bisection algorithm is
                                                                                         
                                                                                         
   <div class="verbatim" id="verbatim-38">
compute&#x00A0;\(v_2\)&#x00A0;eigenvector&#x00A0;corresponding&#x00A0;to&#x00A0;\(\lambda_2(L(G))\)
&#x00A0;<br />for&#x00A0;i=1,N
&#x00A0;<br />&#x00A0;&#x00A0;if&#x00A0;v_2(i)&#x00A0;&#x003C;&#x00A0;0&#x00A0;put&#x00A0;vertex&#x00A0;\(V_i\)&#x00A0;in&#x00A0;N_{-}
&#x00A0;<br />&#x00A0;&#x00A0;else&#x00A0;put&#x00A0;vertex&#x00A0;\(V_i\)&#x00A0;in&#x00A0;N_{-}
</div>
<!--l. 64--><p class="nopar" >
<!--l. 66--><p class="indent" >   The eigenvectors and eigenvalues are computed using Lanczos&#8217;s algorithm. These steps are repeated
recursively on each of the two branches of the graph <img 
src="index258x.png" alt="N &minus; ,N+   "  class="math" >. This is possible since according to Fiedler&#8217;s
theorems the graph <img 
src="index259x.png" alt="N&minus; "  class="math" > is connected, <img 
src="index260x.png" alt="N+   "  class="math" > connected only if no <img 
src="index261x.png" alt="v2(i) = 0  "  class="math" >, and for each subgraph
<img 
src="index262x.png" alt="G1   "  class="math" > the algebraic connectivities satisfy <img 
src="index263x.png" alt="&lambda;2(L (G1)) &le; &lambda;2 (L (G))  "  class="math" >.
<!--l. 71--><p class="indent" >   To run the genmap code be sure that the Nek tools are up-to-date and compiled. At command line
type: genmap NOTE-If the executables for the tools were not placed in the bin directory(default), include
the path to the genmap executable. We give here the output for the .rea file in the Kovasznay
example
                                                                                         
                                                                                         
   <div class="verbatim" id="verbatim-39">
Input&#x00A0;(.rea)&#x00A0;file&#x00A0;name:
&#x00A0;<br />kov
&#x00A0;<br />Input&#x00A0;mesh&#x00A0;tolerance&#x00A0;(default&#x00A0;0.2):
&#x00A0;<br />NOTE:&#x00A0;smaller&#x00A0;is&#x00A0;better,&#x00A0;but&#x00A0;generous&#x00A0;is&#x00A0;more&#x00A0;forgiving&#x00A0;for&#x00A0;bad&#x00A0;meshes.
&#x00A0;<br />0.05
&#x00A0;<br />&#x00A0;reading&#x00A0;.rea&#x00A0;file&#x00A0;data&#x00A0;...
&#x00A0;<br />&#x00A0;start&#x00A0;locglob_lexico:&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;8&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;960&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;7680&#x00A0;&#x00A0;0.10000000000000001
&#x00A0;<br />&#x00A0;locglob:&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;7680
&#x00A0;<br />&#x00A0;.....
&#x00A0;<br />&#x00A0;locglob:&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1254&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;7680
&#x00A0;<br />&#x00A0;done&#x00A0;locglob_lexico:&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1254&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1254&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;7680&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;8
&#x00A0;<br />&#x00A0;start&#x00A0;periodic&#x00A0;vtx:&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;960&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1254
&#x00A0;<br />&#x00A0;done&#x00A0;periodic&#x00A0;vtx
&#x00A0;<br />&#x00A0;start&#x00A0;rec_bisect:&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;960
&#x00A0;<br />&#x00A0;done:&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.1%
&#x00A0;<br />&#x00A0;.....
&#x00A0;<br />&#x00A0;done:&#x00A0;&#x00A0;&#x00A0;99.4%
&#x00A0;<br />
&#x00A0;<br />&#x00A0;done&#x00A0;rec_bisect
&#x00A0;<br />writing&#x00A0;kov.map
</div>
<!--l. 96--><p class="nopar" > The user is prompted for .rea file name and should enter only the prefix of the .rea file. The user is
prompted for mesh tolerance value. Typically a value of .05 is sufficient. Increasing or decreasing this value
should make very little difference in the mesh generation. However, if given an error from genmap, the
tolerance may need to be made slightly more generous.
<!--l. 100--><p class="indent" >   A successful genmap run will produce a .map file with the proper processor decomposition.
<!--l. 103--><p class="indent" >   NOTE: For large element counts, it is not uncommon for genmap to be produce a few disconnected
sets. These sets are typically under 7 elements large and will not affect optimization of the
NEK5000 run. If a disconnected set is produced, genmap will output the following warning to
stdout.
                                                                                         
                                                                                         
   <div class="verbatim" id="verbatim-40">
&#x00A0;not&#x00A0;connected&#x00A0;&#x00A0;&#x00A0;N0&#x00A0;&#x00A0;&#x00A0;NEL&#x00A0;&#x00A0;Nsets&#x00A0;&#x00A0;&#x00A0;Nlarge&#x00A0;sets
</div>
<!--l. 108--><p class="nopar" > Here, <span 
class="ectt-1095">N0 </span>is the number of elements disconnected from the set of <span 
class="ectt-1095">NEL </span>elements, <span 
class="ectt-1095">Nsets </span>is the counter of
disconnected sets found, and <span 
class="ectt-1095">Nlarge sets </span>is the number of sets greater than 64 elements in size. <span 
class="ectt-1095">Nlarge</span>
<span 
class="ectt-1095">sets </span>should always be 0. If not, please contact someone on the developer team so we can be sure to have a
more optimal partition of your mesh.
<!--l. 112--><p class="indent" >   Genmap outputs an ordered set of numbers which are organized as follows Line number 1 contains the
header <span 
class="ectt-1095">nel, nactive, depth, d2, npts, nrank, noutflow</span>
     <ul class="itemize1">
     <li class="itemize"><span 
class="ectt-1095">nel </span>number of elements
     </li>
     <li class="itemize"><span 
class="ectt-1095">nactive </span>nrank-noutflow
     </li>
     <li class="itemize"><span 
class="ectt-1095">depth </span>floor(log2(nel))
     </li>
     <li class="itemize"><span 
class="ectt-1095">d2</span> <img 
src="index264x.png" alt="2depth  "  class="math" >
     </li>
     <li class="itemize"><span 
class="ectt-1095">npts </span>number of corner points (<span 
class="ectt-1095">nel*4 </span>in 2D, <span 
class="ectt-1095">nel*8 </span>in 3D)
     </li>
     <li class="itemize"><span 
class="ectt-1095">nrank </span>number of unique corner points
     </li>
     <li class="itemize"><span 
class="ectt-1095">noutflow </span>number of outflows (not used anymore, is zero)</li></ul>
<!--l. 125--><p class="indent" >   For the Kovasnay flow on an 8 element mesh with periodic boundary conditions we have <span 
class="ectt-1095">8 12 3 8 32</span>
<span 
class="ectt-1095">12 0</span>
<!--l. 129--><p class="indent" >   Next we have the data (one line per element, listed in order of global element number) ==== <span 
class="ectt-1095">6 12 11</span>
<span 
class="ectt-1095">6 5</span>
<!--l. 133--><p class="indent" >   This means that elemnt one (since we are on the first line) belongs to group 6, and this element is given
by vertices in unique ordering. The vertices are ordered in symmetric ordering (starting at
1)
<!--l. 136--><p class="indent" >   3 - 4 | | 1 - 2
<!--l. 140--><p class="indent" >   To distribute amongst processors, one just takes as many consecutive processors as one
wants.
                                                                                         
                                                                                         
   <div class="footnotes"><!--l. 70--><p class="indent" >     <span class="footnote-mark"><a 
href="#fn1x5-bk" id="fn1x5"><sup class="textsuperscript">1</sup></a></span><span 
class="ecrm-0900">This manual is old may soon be deprecated</span>                                                                                    </div>
<!--l. 125--><div class="crosslinks"><p class="noindent">[<a 
href="indexch5.html" >next</a>] [<a 
href="indexch3.html" >prev</a>] [<a 
href="indexch3.html#tailindexch3.html" >prev-tail</a>] [<a 
href="indexch4.html" >front</a>] [<a 
href="index.html#indexch4.html" >up</a>] </p></div>
<!--l. 125--><p class="indent" >   <a 
 id="tailindexch4.html"></a>   
</body></html> 
